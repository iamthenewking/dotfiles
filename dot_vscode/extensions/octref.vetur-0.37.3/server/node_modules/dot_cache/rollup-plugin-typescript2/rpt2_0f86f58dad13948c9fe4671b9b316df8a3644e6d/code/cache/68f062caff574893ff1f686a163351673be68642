{"code":"import { __rest } from \"tslib\";\r\nimport { getLanguageModelCache } from '../../embeddedSupport/languageModelCache';\r\nimport { TextEdit, DiagnosticSeverity, Range, CompletionItemKind, DocumentHighlightKind, Position, DiagnosticTag, CodeActionKind, FoldingRangeKind, CompletionItemTag, TextDocumentEdit, VersionedTextDocumentIdentifier } from 'vscode-languageserver-types';\r\nimport { TextDocument } from 'vscode-languageserver-textdocument';\r\nimport { prettierify, prettierEslintify, prettierTslintify } from '../../utils/prettier';\r\nimport { getFileFsPath, getFilePath } from '../../utils/paths';\r\nimport { URI } from 'vscode-uri';\r\nimport _ from 'lodash';\r\nimport { NULL_SIGNATURE } from '../nullMode';\r\nimport { getComponentInfo } from './componentInfo';\r\nimport { CodeActionDataKind } from '../../types';\r\nimport { isVirtualVueTemplateFile, isVueFile, toCompletionItemKind, toSymbolKind } from '../../services/typescriptService/util';\r\nimport * as Previewer from './previewer';\r\nimport { isVCancellationRequested } from '../../utils/cancellationToken';\r\nimport { getCodeActionKind } from './CodeActionKindConverter';\r\nimport { addCompositionApiRefTokens, getTokenModifierFromClassification, getTokenTypeFromClassification } from './semanticToken';\r\nimport { createScriptSetupDiagnosticFilter } from '../../services/typescriptService/diagnosticFilter';\r\n// Todo: After upgrading to LS server 4.0, use CompletionContext for filtering trigger chars\r\n// https://microsoft.github.io/language-server-protocol/specification#completion-request-leftwards_arrow_with_hook\r\nconst NON_SCRIPT_TRIGGERS = ['<', '*', ':'];\r\nconst SEMANTIC_TOKEN_CONTENT_LENGTH_LIMIT = 80000;\r\nexport async function getJavascriptMode(tsModule, serviceHost, env, documentRegions, dependencyService, globalComponentInfos, vueInfoService, refTokensService) {\r\n    const jsDocuments = getLanguageModelCache(10, 60, document => {\r\n        const vueDocument = documentRegions.refreshAndGet(document);\r\n        return vueDocument.getSingleTypeDocument('script');\r\n    });\r\n    const { updateCurrentVueTextDocument } = serviceHost;\r\n    let supportedCodeFixCodes;\r\n    function getUserPreferences(scriptDoc) {\r\n        return getUserPreferencesByLanguageId(scriptDoc.languageId);\r\n    }\r\n    function getUserPreferencesByLanguageId(languageId) {\r\n        var _a, _b;\r\n        const baseConfig = env.getConfig()[languageId === 'javascript' ? 'javascript' : 'typescript'];\r\n        const preferencesConfig = baseConfig === null || baseConfig === void 0 ? void 0 : baseConfig.preferences;\r\n        if (!baseConfig || !preferencesConfig) {\r\n            return {};\r\n        }\r\n        function safeGetConfigValue(configValue, allowValues, defaultValue) {\r\n            return allowValues.includes(configValue) ? configValue : defaultValue;\r\n        }\r\n        return {\r\n            quotePreference: safeGetConfigValue(preferencesConfig.quoteStyle, ['single', 'double', 'auto']),\r\n            importModuleSpecifierPreference: safeGetConfigValue(preferencesConfig.importModuleSpecifier, [\r\n                'relative',\r\n                'non-relative'\r\n            ]),\r\n            importModuleSpecifierEnding: safeGetConfigValue(preferencesConfig.importModuleSpecifierEnding, ['minimal', 'index', 'js'], 'auto'),\r\n            allowTextChangesInNewFiles: true,\r\n            providePrefixAndSuffixTextForRename: preferencesConfig.renameShorthandProperties === false ? false : preferencesConfig.useAliasesForRenames,\r\n            allowRenameOfImportPath: true,\r\n            includeAutomaticOptionalChainCompletions: (_b = (_a = baseConfig.suggest) === null || _a === void 0 ? void 0 : _a.includeAutomaticOptionalChainCompletions) !== null && _b !== void 0 ? _b : true,\r\n            provideRefactorNotApplicableReason: true\r\n        };\r\n    }\r\n    return {\r\n        getId() {\r\n            return 'javascript';\r\n        },\r\n        updateFileInfo(doc) {\r\n            if (!vueInfoService) {\r\n                return;\r\n            }\r\n            const { service } = updateCurrentVueTextDocument(doc);\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const info = getComponentInfo(tsModule, service, fileFsPath, globalComponentInfos, env.getVueVersion(), env.getConfig());\r\n            if (info) {\r\n                vueInfoService.updateInfo(doc, info);\r\n            }\r\n        },\r\n        async doValidation(doc, cancellationToken) {\r\n            if (await isVCancellationRequested(cancellationToken)) {\r\n                return [];\r\n            }\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return [];\r\n            }\r\n            if (await isVCancellationRequested(cancellationToken)) {\r\n                return [];\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const program = service.getProgram();\r\n            const sourceFile = program === null || program === void 0 ? void 0 : program.getSourceFile(fileFsPath);\r\n            if (!program || !sourceFile) {\r\n                return [];\r\n            }\r\n            let rawScriptDiagnostics = [\r\n                ...program.getSyntacticDiagnostics(sourceFile, cancellationToken === null || cancellationToken === void 0 ? void 0 : cancellationToken.tsToken),\r\n                ...program.getSemanticDiagnostics(sourceFile, cancellationToken === null || cancellationToken === void 0 ? void 0 : cancellationToken.tsToken),\r\n                ...service.getSuggestionDiagnostics(fileFsPath)\r\n            ];\r\n            const compilerOptions = program.getCompilerOptions();\r\n            if (compilerOptions.declaration || compilerOptions.composite) {\r\n                rawScriptDiagnostics = [\r\n                    ...rawScriptDiagnostics,\r\n                    ...program.getDeclarationDiagnostics(sourceFile, cancellationToken === null || cancellationToken === void 0 ? void 0 : cancellationToken.tsToken)\r\n                ];\r\n            }\r\n            const scriptSetupRange = documentRegions\r\n                .refreshAndGet(doc)\r\n                .getLanguageRangesOfType('script')\r\n                .find(range => range.attrs.setup);\r\n            if (scriptSetupRange) {\r\n                const scriptSetupDiagnosticsFilters = createScriptSetupDiagnosticFilter(tsModule);\r\n                const scriptSetupRangeStart = doc.offsetAt(scriptSetupRange.start);\r\n                const scriptSetupRangeEnd = doc.offsetAt(scriptSetupRange.end);\r\n                rawScriptDiagnostics = rawScriptDiagnostics.filter(diag => {\r\n                    if (diag.start) {\r\n                        const range = convertRange(doc, diag);\r\n                        const start = doc.offsetAt(range.start);\r\n                        if (start >= scriptSetupRangeStart && start <= scriptSetupRangeEnd) {\r\n                            return scriptSetupDiagnosticsFilters(diag);\r\n                        }\r\n                    }\r\n                    return true;\r\n                });\r\n            }\r\n            return rawScriptDiagnostics.map(diag => {\r\n                const tags = [];\r\n                if (diag.reportsUnnecessary) {\r\n                    tags.push(DiagnosticTag.Unnecessary);\r\n                }\r\n                if (diag.reportsDeprecated) {\r\n                    tags.push(DiagnosticTag.Deprecated);\r\n                }\r\n                // syntactic/semantic diagnostic always has start and length\r\n                // so we can safely cast diag to TextSpan\r\n                return {\r\n                    range: convertRange(scriptDoc, diag),\r\n                    severity: convertTSDiagnosticCategoryToDiagnosticSeverity(tsModule, diag.category),\r\n                    message: tsModule.flattenDiagnosticMessageText(diag.messageText, '\\n'),\r\n                    tags,\r\n                    code: diag.code,\r\n                    source: 'Vetur'\r\n                };\r\n            });\r\n        },\r\n        doComplete(doc, position) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return { isIncomplete: false, items: [] };\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const offset = scriptDoc.offsetAt(position);\r\n            const triggerChar = doc.getText()[offset - 1];\r\n            if (NON_SCRIPT_TRIGGERS.includes(triggerChar)) {\r\n                return { isIncomplete: false, items: [] };\r\n            }\r\n            const completions = service.getCompletionsAtPosition(fileFsPath, offset, Object.assign(Object.assign({}, getUserPreferences(scriptDoc)), { triggerCharacter: getTsTriggerCharacter(triggerChar), includeCompletionsWithInsertText: true, includeCompletionsForModuleExports: env.getConfig().vetur.completion.autoImport }));\r\n            if (!completions) {\r\n                return { isIncomplete: false, items: [] };\r\n            }\r\n            const entries = completions.entries.filter(entry => entry.name !== '__vueEditorBridge');\r\n            return {\r\n                isIncomplete: false,\r\n                items: entries.map((entry, index) => {\r\n                    var _a, _b, _c;\r\n                    const range = entry.replacementSpan && convertRange(scriptDoc, entry.replacementSpan);\r\n                    const { label, detail } = calculateLabelAndDetailTextForPathImport(entry);\r\n                    const item = {\r\n                        uri: doc.uri,\r\n                        preselect: entry.isRecommended ? true : undefined,\r\n                        label,\r\n                        detail,\r\n                        filterText: getFilterText(entry.insertText),\r\n                        sortText: entry.sortText + index,\r\n                        kind: toCompletionItemKind(entry.kind),\r\n                        textEdit: range && TextEdit.replace(range, entry.insertText || entry.name),\r\n                        insertText: entry.insertText,\r\n                        data: {\r\n                            // data used for resolving item details (see 'doResolve')\r\n                            languageId: scriptDoc.languageId,\r\n                            uri: doc.uri,\r\n                            offset,\r\n                            position,\r\n                            source: entry.source,\r\n                            tsData: entry.data\r\n                        }\r\n                    };\r\n                    // fix: https://github.com/vuejs/vetur/issues/2908\r\n                    if (item.kind === CompletionItemKind.File && !((_a = item.detail) === null || _a === void 0 ? void 0 : _a.endsWith('.js')) && !((_b = item.detail) === null || _b === void 0 ? void 0 : _b.endsWith('.ts'))) {\r\n                        item.insertText = item.detail;\r\n                    }\r\n                    if (entry.kindModifiers) {\r\n                        const kindModifiers = parseKindModifier((_c = entry.kindModifiers) !== null && _c !== void 0 ? _c : '');\r\n                        if (kindModifiers.optional) {\r\n                            if (!item.insertText) {\r\n                                item.insertText = item.label;\r\n                            }\r\n                            if (!item.filterText) {\r\n                                item.filterText = item.label;\r\n                            }\r\n                            item.label += '?';\r\n                        }\r\n                        if (kindModifiers.deprecated) {\r\n                            item.tags = [CompletionItemTag.Deprecated];\r\n                        }\r\n                        if (kindModifiers.color) {\r\n                            item.kind = CompletionItemKind.Color;\r\n                        }\r\n                    }\r\n                    return item;\r\n                })\r\n            };\r\n            function calculateLabelAndDetailTextForPathImport(entry) {\r\n                // Is import path completion\r\n                if (entry.kind === tsModule.ScriptElementKind.scriptElement) {\r\n                    if (entry.kindModifiers) {\r\n                        return {\r\n                            label: entry.name,\r\n                            detail: entry.name + entry.kindModifiers\r\n                        };\r\n                    }\r\n                    else {\r\n                        if (entry.name.endsWith('.vue')) {\r\n                            return {\r\n                                label: entry.name.slice(0, -'.vue'.length),\r\n                                detail: entry.name\r\n                            };\r\n                        }\r\n                    }\r\n                }\r\n                return {\r\n                    label: entry.name,\r\n                    detail: undefined\r\n                };\r\n            }\r\n        },\r\n        doResolve(doc, item) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return item;\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const details = service.getCompletionEntryDetails(fileFsPath, item.data.offset, item.label, getFormatCodeSettings(env.getConfig()), item.data.source, getUserPreferences(scriptDoc), item.data.tsData);\r\n            if (details && item.kind !== CompletionItemKind.File && item.kind !== CompletionItemKind.Folder) {\r\n                item.detail = Previewer.plain(tsModule.displayPartsToString(details.displayParts));\r\n                const documentation = {\r\n                    kind: 'markdown',\r\n                    value: tsModule.displayPartsToString(details.documentation) + '\\n\\n'\r\n                };\r\n                if (details.tags) {\r\n                    if (details.tags) {\r\n                        details.tags.forEach(x => {\r\n                            const tagDoc = Previewer.getTagDocumentation(x);\r\n                            if (tagDoc) {\r\n                                documentation.value += tagDoc + '\\n\\n';\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                const vueDocument = documentRegions.refreshAndGet(doc);\r\n                const languageRange = item.data.position\r\n                    ? vueDocument.getLanguageRangeAtPosition(item.data.position)\r\n                    : vueDocument.getLanguageRangesOfType('script')[0];\r\n                if (details.codeActions && env.getConfig().vetur.completion.autoImport && languageRange) {\r\n                    const textEdits = convertCodeAction(doc, details.codeActions, languageRange);\r\n                    item.additionalTextEdits = textEdits;\r\n                    details.codeActions.forEach(action => {\r\n                        if (action.description) {\r\n                            documentation.value += '\\n' + action.description;\r\n                        }\r\n                    });\r\n                }\r\n                item.documentation = documentation;\r\n                delete item.data;\r\n            }\r\n            return item;\r\n        },\r\n        doHover(doc, position) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return { contents: [] };\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const info = service.getQuickInfoAtPosition(fileFsPath, scriptDoc.offsetAt(position));\r\n            if (info) {\r\n                const display = tsModule.displayPartsToString(info.displayParts);\r\n                const markedContents = [{ language: 'ts', value: display }];\r\n                let hoverMdDoc = '';\r\n                const doc = Previewer.plain(tsModule.displayPartsToString(info.documentation));\r\n                if (doc) {\r\n                    hoverMdDoc += doc + '\\n\\n';\r\n                }\r\n                if (info.tags) {\r\n                    info.tags.forEach(x => {\r\n                        const tagDoc = Previewer.getTagDocumentation(x);\r\n                        if (tagDoc) {\r\n                            hoverMdDoc += tagDoc + '\\n\\n';\r\n                        }\r\n                    });\r\n                }\r\n                if (hoverMdDoc.trim() !== '') {\r\n                    markedContents.push(hoverMdDoc);\r\n                }\r\n                return {\r\n                    range: convertRange(scriptDoc, info.textSpan),\r\n                    contents: markedContents\r\n                };\r\n            }\r\n            return { contents: [] };\r\n        },\r\n        doSignatureHelp(doc, position) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return NULL_SIGNATURE;\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const signatureHelpItems = service.getSignatureHelpItems(fileFsPath, scriptDoc.offsetAt(position), undefined);\r\n            if (!signatureHelpItems) {\r\n                return NULL_SIGNATURE;\r\n            }\r\n            const signatures = [];\r\n            signatureHelpItems.items.forEach(item => {\r\n                let sigLabel = '';\r\n                let sigMdDoc = '';\r\n                const sigParameterInfos = [];\r\n                sigLabel += tsModule.displayPartsToString(item.prefixDisplayParts);\r\n                item.parameters.forEach((p, i, a) => {\r\n                    const label = tsModule.displayPartsToString(p.displayParts);\r\n                    const parameter = {\r\n                        label,\r\n                        documentation: tsModule.displayPartsToString(p.documentation)\r\n                    };\r\n                    sigLabel += label;\r\n                    sigParameterInfos.push(parameter);\r\n                    if (i < a.length - 1) {\r\n                        sigLabel += tsModule.displayPartsToString(item.separatorDisplayParts);\r\n                    }\r\n                });\r\n                sigLabel += tsModule.displayPartsToString(item.suffixDisplayParts);\r\n                item.tags\r\n                    .filter(x => x.name !== 'param')\r\n                    .forEach(x => {\r\n                    const tagDoc = Previewer.getTagDocumentation(x);\r\n                    if (tagDoc) {\r\n                        sigMdDoc += tagDoc + '\\n\\n';\r\n                    }\r\n                });\r\n                signatures.push({\r\n                    label: sigLabel,\r\n                    documentation: {\r\n                        kind: 'markdown',\r\n                        value: sigMdDoc\r\n                    },\r\n                    parameters: sigParameterInfos\r\n                });\r\n            });\r\n            return {\r\n                activeSignature: signatureHelpItems.selectedItemIndex,\r\n                activeParameter: signatureHelpItems.argumentIndex,\r\n                signatures\r\n            };\r\n        },\r\n        findDocumentHighlight(doc, position) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return [];\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const occurrences = service.getOccurrencesAtPosition(fileFsPath, scriptDoc.offsetAt(position));\r\n            if (occurrences) {\r\n                return occurrences.map(entry => {\r\n                    return {\r\n                        range: convertRange(scriptDoc, entry.textSpan),\r\n                        kind: entry.isWriteAccess ? DocumentHighlightKind.Write : DocumentHighlightKind.Text\r\n                    };\r\n                });\r\n            }\r\n            return [];\r\n        },\r\n        findDocumentSymbols(doc) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return [];\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const items = service.getNavigationBarItems(fileFsPath);\r\n            if (!items) {\r\n                return [];\r\n            }\r\n            const result = [];\r\n            const existing = {};\r\n            const collectSymbols = (item, containerLabel) => {\r\n                const sig = item.text + item.kind + item.spans[0].start;\r\n                if (item.kind !== 'script' && !existing[sig]) {\r\n                    const symbol = {\r\n                        name: item.text,\r\n                        kind: toSymbolKind(item.kind),\r\n                        location: {\r\n                            uri: doc.uri,\r\n                            range: convertRange(scriptDoc, item.spans[0])\r\n                        },\r\n                        containerName: containerLabel\r\n                    };\r\n                    existing[sig] = true;\r\n                    result.push(symbol);\r\n                    containerLabel = item.text;\r\n                }\r\n                if (item.childItems && item.childItems.length > 0) {\r\n                    for (const child of item.childItems) {\r\n                        collectSymbols(child, containerLabel);\r\n                    }\r\n                }\r\n            };\r\n            items.forEach(item => collectSymbols(item));\r\n            return result;\r\n        },\r\n        findDefinition(doc, position) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return [];\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const definitions = service.getDefinitionAtPosition(fileFsPath, scriptDoc.offsetAt(position));\r\n            if (!definitions) {\r\n                return [];\r\n            }\r\n            const definitionResults = [];\r\n            const program = service.getProgram();\r\n            if (!program) {\r\n                return [];\r\n            }\r\n            definitions.forEach(d => {\r\n                const definitionTargetDoc = getSourceDoc(d.fileName, program);\r\n                definitionResults.push({\r\n                    uri: URI.file(d.fileName).toString(),\r\n                    range: convertRange(definitionTargetDoc, d.textSpan)\r\n                });\r\n            });\r\n            return definitionResults;\r\n        },\r\n        findReferences(doc, position) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return [];\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const references = service.getReferencesAtPosition(fileFsPath, scriptDoc.offsetAt(position));\r\n            if (!references) {\r\n                return [];\r\n            }\r\n            const referenceResults = [];\r\n            const program = service.getProgram();\r\n            if (!program) {\r\n                return [];\r\n            }\r\n            references.forEach(r => {\r\n                const referenceTargetDoc = getSourceDoc(r.fileName, program);\r\n                if (referenceTargetDoc) {\r\n                    referenceResults.push({\r\n                        uri: URI.file(r.fileName).toString(),\r\n                        range: convertRange(referenceTargetDoc, r.textSpan)\r\n                    });\r\n                }\r\n            });\r\n            return referenceResults;\r\n        },\r\n        getFoldingRanges(doc) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return [];\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const spans = service.getOutliningSpans(fileFsPath);\r\n            return spans.map(s => {\r\n                const range = convertRange(scriptDoc, s.textSpan);\r\n                const kind = getFoldingRangeKind(s);\r\n                // https://github.com/vuejs/vetur/issues/2303\r\n                const endLine = range.end.character > 0 &&\r\n                    ['}', ']'].includes(scriptDoc.getText(Range.create(Position.create(range.end.line, range.end.character - 1), range.end)))\r\n                    ? Math.max(range.end.line - 1, range.start.line)\r\n                    : range.end.line;\r\n                return {\r\n                    startLine: range.start.line,\r\n                    startCharacter: range.start.character,\r\n                    endLine,\r\n                    endCharacter: range.end.character,\r\n                    kind\r\n                };\r\n            });\r\n        },\r\n        getCodeActions(doc, range, _formatParams, context) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            const fileName = getFileFsPath(scriptDoc.uri);\r\n            const start = scriptDoc.offsetAt(range.start);\r\n            const end = scriptDoc.offsetAt(range.end);\r\n            const textRange = { pos: start, end };\r\n            const preferences = getUserPreferences(scriptDoc);\r\n            if (!supportedCodeFixCodes) {\r\n                supportedCodeFixCodes = new Set(tsModule\r\n                    .getSupportedCodeFixes()\r\n                    .map(Number)\r\n                    .filter(x => !isNaN(x)));\r\n            }\r\n            const formatSettings = getFormatCodeSettings(env.getConfig());\r\n            const result = [];\r\n            provideQuickFixCodeActions(doc.uri, scriptDoc.languageId, fileName, textRange, context, supportedCodeFixCodes, formatSettings, preferences, service, result);\r\n            provideRefactoringCodeActions(doc.uri, scriptDoc.languageId, fileName, textRange, context, preferences, service, result);\r\n            provideOrganizeImports(doc.uri, scriptDoc.languageId, textRange, context, result);\r\n            return result;\r\n        },\r\n        doCodeActionResolve(doc, action) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            if (!languageServiceIncludesFile(service, doc.uri)) {\r\n                return action;\r\n            }\r\n            const formatSettings = getFormatCodeSettings(env.getConfig());\r\n            const preferences = getUserPreferences(scriptDoc);\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const data = action.data;\r\n            if (data.kind === CodeActionDataKind.CombinedCodeFix) {\r\n                const combinedFix = service.getCombinedCodeFix({ type: 'file', fileName: fileFsPath }, data.fixId, formatSettings, preferences);\r\n                action.edit = { changes: createUriMappingForEdits(combinedFix.changes.slice(), service) };\r\n            }\r\n            if (data.kind === CodeActionDataKind.RefactorAction) {\r\n                const refactor = service.getEditsForRefactor(fileFsPath, formatSettings, data.textRange, data.refactorName, data.actionName, preferences);\r\n                if (refactor) {\r\n                    action.edit = { changes: createUriMappingForEdits(refactor.edits, service) };\r\n                }\r\n            }\r\n            if (data.kind === CodeActionDataKind.OrganizeImports) {\r\n                const response = service.organizeImports({ type: 'file', fileName: fileFsPath }, formatSettings, preferences);\r\n                action.edit = { changes: createUriMappingForEdits(response.slice(), service) };\r\n            }\r\n            delete action.data;\r\n            return action;\r\n        },\r\n        format(doc, range, formatParams) {\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            const defaultFormatter = scriptDoc.languageId === 'javascript'\r\n                ? env.getConfig().vetur.format.defaultFormatter.js\r\n                : env.getConfig().vetur.format.defaultFormatter.ts;\r\n            if (defaultFormatter === 'none') {\r\n                return [];\r\n            }\r\n            const parser = scriptDoc.languageId === 'javascript' ? 'babel' : 'typescript';\r\n            const needInitialIndent = env.getConfig().vetur.format.scriptInitialIndent;\r\n            const vlsFormatConfig = env.getConfig().vetur.format;\r\n            if (defaultFormatter === 'prettier' ||\r\n                defaultFormatter === 'prettier-eslint' ||\r\n                defaultFormatter === 'prettier-tslint') {\r\n                const code = doc.getText(range);\r\n                const filePath = getFileFsPath(scriptDoc.uri);\r\n                let doFormat;\r\n                if (defaultFormatter === 'prettier-eslint') {\r\n                    doFormat = prettierEslintify;\r\n                }\r\n                else if (defaultFormatter === 'prettier-tslint') {\r\n                    doFormat = prettierTslintify;\r\n                }\r\n                else {\r\n                    doFormat = prettierify;\r\n                }\r\n                return doFormat(dependencyService, code, filePath, scriptDoc.languageId, range, vlsFormatConfig, needInitialIndent);\r\n            }\r\n            else {\r\n                const initialIndentLevel = needInitialIndent ? 1 : 0;\r\n                const formatSettings = scriptDoc.languageId === 'javascript' ? env.getConfig().javascript.format : env.getConfig().typescript.format;\r\n                const convertedFormatSettings = convertOptions(formatSettings, {\r\n                    tabSize: vlsFormatConfig.options.tabSize,\r\n                    insertSpaces: !vlsFormatConfig.options.useTabs\r\n                }, initialIndentLevel);\r\n                const fileFsPath = getFileFsPath(doc.uri);\r\n                const start = scriptDoc.offsetAt(range.start);\r\n                const end = scriptDoc.offsetAt(range.end);\r\n                const edits = service.getFormattingEditsForRange(fileFsPath, start, end, convertedFormatSettings);\r\n                if (!edits) {\r\n                    return [];\r\n                }\r\n                const result = [];\r\n                for (const edit of edits) {\r\n                    if (edit.span.start >= start && edit.span.start + edit.span.length <= end) {\r\n                        result.push({\r\n                            range: convertRange(scriptDoc, edit.span),\r\n                            newText: edit.newText\r\n                        });\r\n                    }\r\n                }\r\n                return result;\r\n            }\r\n        },\r\n        onDocumentRemoved(document) {\r\n            jsDocuments.onDocumentRemoved(document);\r\n        },\r\n        onDocumentChanged(filePath) {\r\n            serviceHost.updateExternalDocument(filePath);\r\n        },\r\n        getRenameFileEdit(rename) {\r\n            const oldPath = getFileFsPath(rename.oldUri);\r\n            const newPath = getFileFsPath(rename.newUri);\r\n            const service = serviceHost.getLanguageService();\r\n            const program = service.getProgram();\r\n            if (!program) {\r\n                return [];\r\n            }\r\n            const sourceFile = program.getSourceFile(oldPath);\r\n            if (!sourceFile) {\r\n                return [];\r\n            }\r\n            const oldFileIsVue = isVueFile(oldPath);\r\n            const formatSettings = getFormatCodeSettings(env.getConfig());\r\n            const preferences = getUserPreferencesByLanguageId(sourceFile.scriptKind === tsModule.ScriptKind.JS ? 'javascript' : 'typescript');\r\n            // typescript use the filename of the source file to check for update\r\n            // match it or it may not work on windows\r\n            const normalizedOldPath = sourceFile.fileName;\r\n            const edits = service.getEditsForFileRename(normalizedOldPath, newPath, formatSettings, preferences);\r\n            const textDocumentEdit = [];\r\n            for (const edit of edits) {\r\n                const fileName = edit.fileName;\r\n                if (isVirtualVueTemplateFile(fileName)) {\r\n                    continue;\r\n                }\r\n                const doc = getSourceDoc(fileName, program);\r\n                const bothNotVueFile = !oldFileIsVue && !isVueFile(fileName);\r\n                if (bothNotVueFile) {\r\n                    continue;\r\n                }\r\n                const docIdentifier = VersionedTextDocumentIdentifier.create(URI.file(doc.uri).toString(), 0);\r\n                textDocumentEdit.push(...edit.textChanges.map(({ span, newText }) => {\r\n                    const range = convertRange(doc, span);\r\n                    return TextDocumentEdit.create(docIdentifier, [TextEdit.replace(range, newText)]);\r\n                }));\r\n            }\r\n            return textDocumentEdit;\r\n        },\r\n        getSemanticTokens(doc, range) {\r\n            var _a, _b;\r\n            if (!((_a = tsModule.SemanticClassificationFormat) === null || _a === void 0 ? void 0 : _a.TwentyTwenty)) {\r\n                return [];\r\n            }\r\n            const { scriptDoc, service } = updateCurrentVueTextDocument(doc);\r\n            const scriptText = scriptDoc.getText();\r\n            if (scriptText.trim().length > SEMANTIC_TOKEN_CONTENT_LENGTH_LIMIT) {\r\n                return [];\r\n            }\r\n            const fileFsPath = getFileFsPath(doc.uri);\r\n            const textSpan = range\r\n                ? convertTextSpan(range, scriptDoc)\r\n                : {\r\n                    start: 0,\r\n                    length: scriptText.length\r\n                };\r\n            const { spans } = service.getEncodedSemanticClassifications(fileFsPath, textSpan, (_b = tsModule.SemanticClassificationFormat) === null || _b === void 0 ? void 0 : _b.TwentyTwenty);\r\n            const data = [];\r\n            let index = 0;\r\n            while (index < spans.length) {\r\n                // [start, length, encodedClassification, start2, length2, encodedClassification2]\r\n                const start = spans[index++];\r\n                const length = spans[index++];\r\n                const encodedClassification = spans[index++];\r\n                const classificationType = getTokenTypeFromClassification(encodedClassification);\r\n                if (classificationType < 0) {\r\n                    continue;\r\n                }\r\n                const modifierSet = getTokenModifierFromClassification(encodedClassification);\r\n                data.push({\r\n                    start,\r\n                    length,\r\n                    classificationType,\r\n                    modifierSet\r\n                });\r\n            }\r\n            const program = service.getProgram();\r\n            if (program) {\r\n                const refTokens = addCompositionApiRefTokens(tsModule, program, fileFsPath, data, refTokensService);\r\n                refTokensService.send(doc.uri, refTokens.map(t => Range.create(scriptDoc.positionAt(t[0]), scriptDoc.positionAt(t[1]))));\r\n            }\r\n            return data.map((_a) => {\r\n                var { start } = _a, rest = __rest(_a, [\"start\"]);\r\n                const startPosition = scriptDoc.positionAt(start);\r\n                return Object.assign(Object.assign({}, rest), { line: startPosition.line, character: startPosition.character });\r\n            });\r\n        },\r\n        dispose() {\r\n            jsDocuments.dispose();\r\n        }\r\n    };\r\n}\r\nfunction provideRefactoringCodeActions(uri, languageId, fileName, textRange, context, preferences, service, result) {\r\n    if (context.only &&\r\n        !context.only.some(el => [\r\n            CodeActionKind.Refactor,\r\n            CodeActionKind.RefactorExtract,\r\n            CodeActionKind.RefactorInline,\r\n            CodeActionKind.RefactorRewrite\r\n        ].includes(el))) {\r\n        return;\r\n    }\r\n    const refactorings = service.getApplicableRefactors(fileName, textRange, preferences, !context.only ? undefined : 'invoked');\r\n    const actions = [];\r\n    for (const refactoring of refactorings) {\r\n        const refactorName = refactoring.name;\r\n        if (refactoring.inlineable) {\r\n            actions.push({\r\n                uri,\r\n                kind: CodeActionDataKind.RefactorAction,\r\n                languageId,\r\n                textRange,\r\n                refactorName,\r\n                actionName: refactorName,\r\n                description: refactoring.description\r\n            });\r\n        }\r\n        else {\r\n            actions.push(...refactoring.actions.map(action => ({\r\n                uri,\r\n                kind: CodeActionDataKind.RefactorAction,\r\n                languageId,\r\n                textRange,\r\n                refactorName,\r\n                actionName: action.name,\r\n                description: action.description,\r\n                notApplicableReason: action.notApplicableReason\r\n            })));\r\n        }\r\n    }\r\n    for (const action of actions) {\r\n        result.push({\r\n            title: action.description,\r\n            kind: getCodeActionKind(action),\r\n            disabled: action.notApplicableReason ? { reason: action.notApplicableReason } : undefined,\r\n            data: action\r\n        });\r\n    }\r\n}\r\nfunction provideQuickFixCodeActions(uri, languageId, fileName, textRange, context, supportedCodeFixCodes, formatSettings, preferences, service, result) {\r\n    if (context.only && !context.only.includes(CodeActionKind.QuickFix)) {\r\n        return;\r\n    }\r\n    const fixableDiagnosticCodes = context.diagnostics.map(d => +d.code).filter(c => supportedCodeFixCodes.has(c));\r\n    if (!fixableDiagnosticCodes) {\r\n        return;\r\n    }\r\n    const fixes = service.getCodeFixesAtPosition(fileName, textRange.pos, textRange.end, fixableDiagnosticCodes, formatSettings, preferences);\r\n    for (const fix of fixes) {\r\n        const uriTextEditMapping = createUriMappingForEdits(fix.changes, service);\r\n        result.push({\r\n            title: fix.description,\r\n            kind: CodeActionKind.QuickFix,\r\n            diagnostics: context.diagnostics,\r\n            edit: {\r\n                changes: uriTextEditMapping\r\n            }\r\n        });\r\n        if (fix.fixAllDescription && fix.fixId) {\r\n            result.push({\r\n                title: fix.fixAllDescription,\r\n                kind: CodeActionKind.QuickFix,\r\n                diagnostics: context.diagnostics,\r\n                data: {\r\n                    uri,\r\n                    languageId,\r\n                    kind: CodeActionDataKind.CombinedCodeFix,\r\n                    textRange,\r\n                    fixId: fix.fixId\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nfunction provideOrganizeImports(uri, languageId, textRange, context, result) {\r\n    if (!context.only ||\r\n        (!context.only.includes(CodeActionKind.SourceOrganizeImports) && !context.only.includes(CodeActionKind.Source))) {\r\n        return;\r\n    }\r\n    result.push({\r\n        title: 'Organize Imports',\r\n        kind: CodeActionKind.SourceOrganizeImports,\r\n        data: {\r\n            uri,\r\n            languageId,\r\n            textRange,\r\n            kind: CodeActionDataKind.OrganizeImports\r\n        }\r\n    });\r\n}\r\nfunction createUriMappingForEdits(changes, service) {\r\n    const program = service.getProgram();\r\n    const result = {};\r\n    for (const { fileName, textChanges } of changes) {\r\n        const targetDoc = getSourceDoc(fileName, program);\r\n        const edits = textChanges.map(({ newText, span }) => ({\r\n            newText,\r\n            range: convertRange(targetDoc, span)\r\n        }));\r\n        const uri = URI.file(fileName).toString();\r\n        if (result[uri]) {\r\n            result[uri].push(...edits);\r\n        }\r\n        else {\r\n            result[uri] = edits;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction getSourceDoc(fileName, program) {\r\n    const sourceFile = program.getSourceFile(fileName);\r\n    return TextDocument.create(fileName, 'vue', 0, sourceFile.getFullText());\r\n}\r\nexport function languageServiceIncludesFile(ls, documentUri) {\r\n    const filePaths = ls.getProgram().getRootFileNames();\r\n    const filePath = getFilePath(documentUri);\r\n    return filePaths.includes(filePath);\r\n}\r\nfunction convertRange(document, span) {\r\n    const startPosition = document.positionAt(span.start);\r\n    const endPosition = document.positionAt(span.start + span.length);\r\n    return Range.create(startPosition, endPosition);\r\n}\r\nfunction convertOptions(formatSettings, options, initialIndentLevel) {\r\n    return _.assign(formatSettings, {\r\n        convertTabsToSpaces: options.insertSpaces,\r\n        tabSize: options.tabSize,\r\n        indentSize: options.tabSize,\r\n        baseIndentSize: options.tabSize * initialIndentLevel\r\n    });\r\n}\r\nexport function getFormatCodeSettings(config) {\r\n    return {\r\n        tabSize: config.vetur.format.options.tabSize,\r\n        indentSize: config.vetur.format.options.tabSize,\r\n        convertTabsToSpaces: !config.vetur.format.options.useTabs,\r\n        insertSpaceAfterCommaDelimiter: true\r\n    };\r\n}\r\n// Parameter must to be string, Otherwise I don't like it semantically.\r\nfunction getTsTriggerCharacter(triggerChar) {\r\n    const legalChars = ['@', '#', '.', '\"', \"'\", '`', '/', '<'];\r\n    if (legalChars.includes(triggerChar)) {\r\n        return triggerChar;\r\n    }\r\n    return undefined;\r\n}\r\nfunction convertCodeAction(doc, codeActions, regionStart) {\r\n    const scriptStartOffset = doc.offsetAt(regionStart.start);\r\n    const textEdits = [];\r\n    for (const action of codeActions) {\r\n        for (const change of action.changes) {\r\n            textEdits.push(...change.textChanges.map(tc => {\r\n                // currently, only import codeAction is available\r\n                // change start of doc to start of script region\r\n                if (tc.span.start <= scriptStartOffset && tc.span.length === 0) {\r\n                    if (regionStart) {\r\n                        const line = regionStart.start.line;\r\n                        return {\r\n                            range: Range.create(line + 1, 0, line + 1, 0),\r\n                            newText: tc.newText\r\n                        };\r\n                    }\r\n                }\r\n                return {\r\n                    range: convertRange(doc, tc.span),\r\n                    newText: tc.newText\r\n                };\r\n            }));\r\n        }\r\n    }\r\n    return textEdits;\r\n}\r\nfunction parseKindModifier(kindModifiers) {\r\n    const kinds = new Set(kindModifiers.split(/,|\\s+/g));\r\n    return {\r\n        optional: kinds.has('optional'),\r\n        deprecated: kinds.has('deprecated'),\r\n        color: kinds.has('color')\r\n    };\r\n}\r\nfunction convertTSDiagnosticCategoryToDiagnosticSeverity(tsModule, c) {\r\n    switch (c) {\r\n        case tsModule.DiagnosticCategory.Error:\r\n            return DiagnosticSeverity.Error;\r\n        case tsModule.DiagnosticCategory.Warning:\r\n            return DiagnosticSeverity.Warning;\r\n        case tsModule.DiagnosticCategory.Message:\r\n            return DiagnosticSeverity.Information;\r\n        case tsModule.DiagnosticCategory.Suggestion:\r\n            return DiagnosticSeverity.Hint;\r\n        default:\r\n            return DiagnosticSeverity.Error;\r\n    }\r\n}\r\n/* tslint:disable:max-line-length */\r\n/**\r\n * Adapted from https://github.com/microsoft/vscode/blob/2b090abd0fdab7b21a3eb74be13993ad61897f84/extensions/typescript-language-features/src/languageFeatures/completions.ts#L147-L181\r\n */\r\nfunction getFilterText(insertText) {\r\n    // For `this.` completions, generally don't set the filter text since we don't want them to be overly prioritized. #74164\r\n    if (insertText === null || insertText === void 0 ? void 0 : insertText.startsWith('this.')) {\r\n        return undefined;\r\n    }\r\n    // Handle the case:\r\n    // ```\r\n    // const xyz = { 'ab c': 1 };\r\n    // xyz.ab|\r\n    // ```\r\n    // In which case we want to insert a bracket accessor but should use `.abc` as the filter text instead of\r\n    // the bracketed insert text.\r\n    else if (insertText === null || insertText === void 0 ? void 0 : insertText.startsWith('[')) {\r\n        return insertText.replace(/^\\[['\"](.+)[['\"]\\]$/, '.$1');\r\n    }\r\n    // In all other cases, fallback to using the insertText\r\n    return insertText;\r\n}\r\nfunction getFoldingRangeKind(span) {\r\n    switch (span.kind) {\r\n        case 'comment':\r\n            return FoldingRangeKind.Comment;\r\n        case 'region':\r\n            return FoldingRangeKind.Region;\r\n        case 'imports':\r\n            return FoldingRangeKind.Imports;\r\n        case 'code':\r\n        default:\r\n            return undefined;\r\n    }\r\n}\r\nfunction convertTextSpan(range, doc) {\r\n    const start = doc.offsetAt(range.start);\r\n    const end = doc.offsetAt(range.end);\r\n    return {\r\n        start,\r\n        length: end - start\r\n    };\r\n}\r\n//# sourceMappingURL=javascript.js.map","references":["/Users/yoyo930021/git/vetur/server/src/embeddedSupport/languageModelCache.ts","/Users/yoyo930021/git/vetur/server/node_modules/vscode-languageserver-types/lib/umd/main.d.ts","/Users/yoyo930021/git/vetur/server/node_modules/vscode-languageserver-textdocument/lib/umd/main.d.ts","/Users/yoyo930021/git/vetur/server/src/embeddedSupport/languageModes.ts","/Users/yoyo930021/git/vetur/server/src/embeddedSupport/embeddedSupport.ts","/Users/yoyo930021/git/vetur/server/src/utils/prettier/index.ts","/Users/yoyo930021/git/vetur/server/src/utils/paths.ts","/Users/yoyo930021/git/vetur/server/node_modules/vscode-uri/lib/umd/index.d.ts","/Users/yoyo930021/git/vetur/server/node_modules/typescript/lib/typescript.d.ts","/Users/yoyo930021/git/vetur/server/node_modules/@types/lodash/index.d.ts","/Users/yoyo930021/git/vetur/server/src/modes/nullMode.ts","/Users/yoyo930021/git/vetur/server/src/config.ts","/Users/yoyo930021/git/vetur/server/src/services/vueInfoService.ts","/Users/yoyo930021/git/vetur/server/src/modes/script/componentInfo.ts","/Users/yoyo930021/git/vetur/server/src/services/dependencyService.ts","/Users/yoyo930021/git/vetur/server/src/types.ts","/Users/yoyo930021/git/vetur/server/src/services/typescriptService/serviceHost.ts","/Users/yoyo930021/git/vetur/server/src/services/typescriptService/util.ts","/Users/yoyo930021/git/vetur/server/src/modes/script/previewer.ts","/Users/yoyo930021/git/vetur/server/src/utils/cancellationToken.ts","/Users/yoyo930021/git/vetur/server/src/services/EnvironmentService.ts","/Users/yoyo930021/git/vetur/server/src/modes/script/CodeActionKindConverter.ts","/Users/yoyo930021/git/vetur/server/node_modules/vscode-languageserver/lib/common/api.d.ts","/Users/yoyo930021/git/vetur/server/src/modes/script/semanticToken.ts","/Users/yoyo930021/git/vetur/server/src/services/RefTokenService.ts","/Users/yoyo930021/git/vetur/server/src/services/typescriptService/diagnosticFilter.ts"],"map":"{\"version\":3,\"file\":\"javascript.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/modes/script/javascript.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/yoyo930021/git/vetur/server/node_modules/.cache/rollup-plugin-typescript2/placeholder/modes/script/javascript.d.ts","writeByteOrderMark":false,"text":"import { LanguageModelCache } from '../../embeddedSupport/languageModelCache';\r\nimport { LanguageMode } from '../../embeddedSupport/languageModes';\r\nimport { VueDocumentRegions } from '../../embeddedSupport/embeddedSupport';\r\nimport type ts from 'typescript';\r\nimport { BasicComponentInfo } from '../../config';\r\nimport { VueInfoService } from '../../services/vueInfoService';\r\nimport { DependencyService, RuntimeLibrary } from '../../services/dependencyService';\r\nimport { IServiceHost } from '../../services/typescriptService/serviceHost';\r\nimport { EnvironmentService } from '../../services/EnvironmentService';\r\nimport { RefTokensService } from '../../services/RefTokenService';\r\nexport declare function getJavascriptMode(tsModule: RuntimeLibrary['typescript'], serviceHost: IServiceHost, env: EnvironmentService, documentRegions: LanguageModelCache<VueDocumentRegions>, dependencyService: DependencyService, globalComponentInfos: BasicComponentInfo[], vueInfoService: VueInfoService, refTokensService: RefTokensService): Promise<LanguageMode>;\r\nexport declare function languageServiceIncludesFile(ls: ts.LanguageService, documentUri: string): boolean;\r\nexport declare function getFormatCodeSettings(config: any): ts.FormatCodeSettings;\r\n"}}
