{"code":"import { kebabCase } from 'lodash';\r\nimport { buildDocumentation, getDefaultExportNode } from './componentInfo';\r\nexport function getGlobalComponents(tsModule, service, componentInfos, tagCasing = 'kebab') {\r\n    const program = service.getProgram();\r\n    if (!program) {\r\n        return [];\r\n    }\r\n    const checker = program.getTypeChecker();\r\n    const result = [];\r\n    componentInfos.forEach(info => {\r\n        const sourceFile = program.getSourceFile(info.path);\r\n        if (!sourceFile) {\r\n            return;\r\n        }\r\n        const defaultExportNode = getDefaultExportNode(tsModule, sourceFile);\r\n        if (!defaultExportNode) {\r\n            return;\r\n        }\r\n        const defaultExportSymbol = checker.getTypeAtLocation(defaultExportNode);\r\n        if (!defaultExportSymbol) {\r\n            return;\r\n        }\r\n        const name = tagCasing === 'kebab' ? kebabCase(info.name) : info.name;\r\n        result.push({\r\n            name,\r\n            documentation: buildDocumentation(tsModule, defaultExportSymbol.symbol, checker),\r\n            definition: {\r\n                path: sourceFile.fileName,\r\n                start: defaultExportNode.getStart(sourceFile, true),\r\n                end: defaultExportNode.getEnd()\r\n            },\r\n            defaultExportNode\r\n        });\r\n    });\r\n    return result;\r\n}\r\n//# sourceMappingURL=globalComponents.js.map","references":["/Users/yoyo930021/git/vetur/server/node_modules/@types/lodash/index.d.ts","/Users/yoyo930021/git/vetur/server/node_modules/typescript/lib/typescript.d.ts","/Users/yoyo930021/git/vetur/server/src/config.ts","/Users/yoyo930021/git/vetur/server/src/services/dependencyService.ts","/Users/yoyo930021/git/vetur/server/src/modes/script/childComponents.ts","/Users/yoyo930021/git/vetur/server/src/modes/script/componentInfo.ts"],"map":"{\"version\":3,\"file\":\"globalComponents.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/modes/script/globalComponents.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,QAAQ,CAAC;AAKnC,OAAO,EAAE,kBAAkB,EAAE,oBAAoB,EAAE,MAAM,iBAAiB,CAAC;AAE3E,MAAM,UAAU,mBAAmB,CACjC,QAAsC,EACtC,OAA2B,EAC3B,cAAoC,EACpC,SAAS,GAAG,OAAO;IAEnB,MAAM,OAAO,GAAG,OAAO,CAAC,UAAU,EAAE,CAAC;IACrC,IAAI,CAAC,OAAO,EAAE;QACZ,OAAO,EAAE,CAAC;KACX;IAED,MAAM,OAAO,GAAG,OAAO,CAAC,cAAc,EAAE,CAAC;IAEzC,MAAM,MAAM,GAA6B,EAAE,CAAC;IAC5C,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QAC5B,MAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,EAAE;YACf,OAAO;SACR;QAED,MAAM,iBAAiB,GAAG,oBAAoB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;QACrE,IAAI,CAAC,iBAAiB,EAAE;YACtB,OAAO;SACR;QAED,MAAM,mBAAmB,GAAG,OAAO,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,CAAC;QACzE,IAAI,CAAC,mBAAmB,EAAE;YACxB,OAAO;SACR;QAED,MAAM,IAAI,GAAG,SAAS,KAAK,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;QAEtE,MAAM,CAAC,IAAI,CAAC;YACV,IAAI;YACJ,aAAa,EAAE,kBAAkB,CAAC,QAAQ,EAAE,mBAAmB,CAAC,MAAM,EAAE,OAAO,CAAC;YAChF,UAAU,EAAE;gBACV,IAAI,EAAE,UAAU,CAAC,QAAQ;gBACzB,KAAK,EAAE,iBAAiB,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC;gBACnD,GAAG,EAAE,iBAAiB,CAAC,MAAM,EAAE;aAChC;YACD,iBAAiB;SAClB,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,OAAO,MAAM,CAAC;AAChB,CAAC\"}","dts":{"name":"/Users/yoyo930021/git/vetur/server/node_modules/.cache/rollup-plugin-typescript2/placeholder/modes/script/globalComponents.d.ts","writeByteOrderMark":false,"text":"import type ts from 'typescript';\r\nimport { BasicComponentInfo } from '../../config';\r\nimport { RuntimeLibrary } from '../../services/dependencyService';\r\nimport { InternalChildComponent } from './childComponents';\r\nexport declare function getGlobalComponents(tsModule: RuntimeLibrary['typescript'], service: ts.LanguageService, componentInfos: BasicComponentInfo[], tagCasing?: string): InternalChildComponent[];\r\n"}}
