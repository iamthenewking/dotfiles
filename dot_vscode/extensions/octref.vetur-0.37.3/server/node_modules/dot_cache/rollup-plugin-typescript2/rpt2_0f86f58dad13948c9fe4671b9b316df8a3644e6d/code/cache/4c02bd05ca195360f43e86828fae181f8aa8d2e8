{"code":"import { CancellationTokenSource } from 'vscode-languageserver';\r\nexport class VCancellationTokenSource extends CancellationTokenSource {\r\n    get token() {\r\n        const token = super.token;\r\n        token.tsToken = {\r\n            isCancellationRequested() {\r\n                return token.isCancellationRequested;\r\n            },\r\n            throwIfCancellationRequested() {\r\n                if (token.isCancellationRequested) {\r\n                    throw new Error('OperationCanceledException');\r\n                }\r\n            }\r\n        };\r\n        return token;\r\n    }\r\n}\r\nexport function isVCancellationRequested(token) {\r\n    return new Promise(resolve => {\r\n        if (!token) {\r\n            resolve(false);\r\n        }\r\n        else {\r\n            setImmediate(() => resolve(token.isCancellationRequested));\r\n        }\r\n    });\r\n}\r\n//# sourceMappingURL=cancellationToken.js.map","references":["/Users/yoyo930021/git/vetur/server/src/services/dependencyService.ts","/Users/yoyo930021/git/vetur/server/node_modules/typescript/lib/typescript.d.ts","/Users/yoyo930021/git/vetur/server/node_modules/vscode-languageserver/lib/common/api.d.ts"],"map":"{\"version\":3,\"file\":\"cancellationToken.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/utils/cancellationToken.ts\"],\"names\":[],\"mappings\":\"AAEA,OAAO,EAAE,uBAAuB,EAA6C,MAAM,uBAAuB,CAAC;AAM3G,MAAM,OAAO,wBAAyB,SAAQ,uBAAuB;IACnE,IAAI,KAAK;QACP,MAAM,KAAK,GAAG,KAAK,CAAC,KAA2B,CAAC;QAChD,KAAK,CAAC,OAAO,GAAG;YACd,uBAAuB;gBACrB,OAAO,KAAK,CAAC,uBAAuB,CAAC;YACvC,CAAC;YACD,4BAA4B;gBAC1B,IAAI,KAAK,CAAC,uBAAuB,EAAE;oBACjC,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;iBAC/C;YACH,CAAC;SACF,CAAC;QACF,OAAO,KAAK,CAAC;IACf,CAAC;CACF;AAED,MAAM,UAAU,wBAAwB,CAAC,KAA0B;IACjE,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;QAC3B,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,CAAC,KAAK,CAAC,CAAC;SAChB;aAAM;YACL,YAAY,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC,CAAC;SAC5D;IACH,CAAC,CAAC,CAAC;AACL,CAAC\"}","dts":{"name":"/Users/yoyo930021/git/vetur/server/node_modules/.cache/rollup-plugin-typescript2/placeholder/utils/cancellationToken.d.ts","writeByteOrderMark":false,"text":"import { CancellationToken as TSCancellationToken } from 'typescript';\r\nimport { CancellationTokenSource, CancellationToken as LSPCancellationToken } from 'vscode-languageserver';\r\nexport interface VCancellationToken extends LSPCancellationToken {\r\n    tsToken: TSCancellationToken;\r\n}\r\nexport declare class VCancellationTokenSource extends CancellationTokenSource {\r\n    get token(): VCancellationToken;\r\n}\r\nexport declare function isVCancellationRequested(token?: VCancellationToken): Promise<unknown>;\r\n"}}
