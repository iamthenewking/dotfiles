(()=>{"use strict";var t={854:(t,e,n)=>{n.r(e),n.d(e,{FetchError:()=>d,Headers:()=>$,Request:()=>q,Response:()=>M,default:()=>G});const r=require("stream"),i=require("http"),o=require("url"),s=require("https"),a=require("zlib"),l=r.Readable,c=Symbol("buffer"),u=Symbol("type");class h{constructor(){this[u]="";const t=arguments[0],e=arguments[1],n=[];let r=0;if(t){const e=t,i=Number(e.length);for(let t=0;t<i;t++){const i=e[t];let o;o=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof h?i[c]:Buffer.from("string"==typeof i?i:String(i)),r+=o.length,n.push(o)}}this[c]=Buffer.concat(n);let i=e&&void 0!==e.type&&String(e.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[u]=i)}get size(){return this[c].length}get type(){return this[u]}text(){return Promise.resolve(this[c].toString())}arrayBuffer(){const t=this[c],e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return Promise.resolve(e)}stream(){const t=new l;return t._read=function(){},t.push(this[c]),t.push(null),t}toString(){return"[object Blob]"}slice(){const t=this.size,e=arguments[0],n=arguments[1];let r,i;r=void 0===e?0:e<0?Math.max(t+e,0):Math.min(e,t),i=void 0===n?t:n<0?Math.max(t+n,0):Math.min(n,t);const o=Math.max(i-r,0),s=this[c].slice(r,r+o),a=new h([],{type:arguments[2]});return a[c]=s,a}}function d(t,e,n){Error.call(this,t),this.message=t,this.type=e,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let f;Object.defineProperties(h.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(h.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FetchError";try{f=require("encoding").convert}catch(t){}const p=Symbol("Body internals"),m=r.PassThrough;function b(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.size;let o=void 0===i?0:i;var s=n.timeout;let a=void 0===s?0:s;null==t?t=null:g(t)?t=Buffer.from(t.toString()):w(t)||Buffer.isBuffer(t)||("[object ArrayBuffer]"===Object.prototype.toString.call(t)?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof r||(t=Buffer.from(String(t)))),this[p]={body:t,disturbed:!1,error:null},this.size=o,this.timeout=a,t instanceof r&&t.on("error",(function(t){const n="AbortError"===t.name?t:new d(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t);e[p].error=n}))}function y(){var t=this;if(this[p].disturbed)return b.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[p].disturbed=!0,this[p].error)return b.Promise.reject(this[p].error);let e=this.body;if(null===e)return b.Promise.resolve(Buffer.alloc(0));if(w(e)&&(e=e.stream()),Buffer.isBuffer(e))return b.Promise.resolve(e);if(!(e instanceof r))return b.Promise.resolve(Buffer.alloc(0));let n=[],i=0,o=!1;return new b.Promise((function(r,s){let a;t.timeout&&(a=setTimeout((function(){o=!0,s(new d(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))}),t.timeout)),e.on("error",(function(e){"AbortError"===e.name?(o=!0,s(e)):s(new d(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e))})),e.on("data",(function(e){if(!o&&null!==e){if(t.size&&i+e.length>t.size)return o=!0,void s(new d(`content size at ${t.url} over limit: ${t.size}`,"max-size"));i+=e.length,n.push(e)}})),e.on("end",(function(){if(!o){clearTimeout(a);try{r(Buffer.concat(n,i))}catch(e){s(new d(`Could not create Buffer from response body for ${t.url}: ${e.message}`,"system",e))}}}))}))}function g(t){return"object"==typeof t&&"function"==typeof t.append&&"function"==typeof t.delete&&"function"==typeof t.get&&"function"==typeof t.getAll&&"function"==typeof t.has&&"function"==typeof t.set&&("URLSearchParams"===t.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(t)||"function"==typeof t.sort)}function w(t){return"object"==typeof t&&"function"==typeof t.arrayBuffer&&"string"==typeof t.type&&"function"==typeof t.stream&&"function"==typeof t.constructor&&"string"==typeof t.constructor.name&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function v(t){let e,n,i=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof r&&"function"!=typeof i.getBoundary&&(e=new m,n=new m,i.pipe(e),i.pipe(n),t[p].body=e,i=n),i}function _(t){return null===t?null:"string"==typeof t?"text/plain;charset=UTF-8":g(t)?"application/x-www-form-urlencoded;charset=UTF-8":w(t)?t.type||null:Buffer.isBuffer(t)||"[object ArrayBuffer]"===Object.prototype.toString.call(t)||ArrayBuffer.isView(t)?null:"function"==typeof t.getBoundary?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof r?null:"text/plain;charset=UTF-8"}function P(t){const e=t.body;return null===e?0:w(e)?e.size:Buffer.isBuffer(e)?e.length:e&&"function"==typeof e.getLengthSync&&(e._lengthRetrievers&&0==e._lengthRetrievers.length||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}b.prototype={get body(){return this[p].body},get bodyUsed(){return this[p].disturbed},arrayBuffer(){return y.call(this).then((function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}))},blob(){let t=this.headers&&this.headers.get("content-type")||"";return y.call(this).then((function(e){return Object.assign(new h([],{type:t.toLowerCase()}),{[c]:e})}))},json(){var t=this;return y.call(this).then((function(e){try{return JSON.parse(e.toString())}catch(e){return b.Promise.reject(new d(`invalid json response body at ${t.url} reason: ${e.message}`,"invalid-json"))}}))},text(){return y.call(this).then((function(t){return t.toString()}))},buffer(){return y.call(this)},textConverted(){var t=this;return y.call(this).then((function(e){return function(t,e){if("function"!=typeof f)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=e.get("content-type");let r,i,o="utf-8";return n&&(r=/charset=([^;]*)/i.exec(n)),i=t.slice(0,1024).toString(),!r&&i&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(i)),!r&&i&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop()))),!r&&i&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i)),r&&(o=r.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030")),f(t,"UTF-8",o).toString()}(e,t.headers)}))}},Object.defineProperties(b.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),b.mixIn=function(t){for(const e of Object.getOwnPropertyNames(b.prototype))if(!(e in t)){const n=Object.getOwnPropertyDescriptor(b.prototype,e);Object.defineProperty(t,e,n)}},b.Promise=global.Promise;const S=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,x=/[^\t\x20-\x7e\x80-\xff]/;function j(t){if(t=`${t}`,S.test(t)||""===t)throw new TypeError(`${t} is not a legal HTTP header name`)}function O(t){if(t=`${t}`,x.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function T(t,e){e=e.toLowerCase();for(const n in t)if(n.toLowerCase()===e)return n}const U=Symbol("map");class ${constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[U]=Object.create(null),t instanceof $){const e=t.raw(),n=Object.keys(e);for(const t of n)for(const n of e[t])this.append(t,n)}else if(null==t);else{if("object"!=typeof t)throw new TypeError("Provided initializer must be an object");{const e=t[Symbol.iterator];if(null!=e){if("function"!=typeof e)throw new TypeError("Header pairs must be iterable");const n=[];for(const e of t){if("object"!=typeof e||"function"!=typeof e[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(e))}for(const t of n){if(2!==t.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(t[0],t[1])}}else for(const e of Object.keys(t)){const n=t[e];this.append(e,n)}}}}get(t){j(t=`${t}`);const e=T(this[U],t);return void 0===e?null:this[U][e].join(", ")}forEach(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=B(this),r=0;for(;r<n.length;){var i=n[r];const o=i[0],s=i[1];t.call(e,s,o,this),n=B(this),r++}}set(t,e){e=`${e}`,j(t=`${t}`),O(e);const n=T(this[U],t);this[U][void 0!==n?n:t]=[e]}append(t,e){e=`${e}`,j(t=`${t}`),O(e);const n=T(this[U],t);void 0!==n?this[U][n].push(e):this[U][t]=[e]}has(t){return j(t=`${t}`),void 0!==T(this[U],t)}delete(t){j(t=`${t}`);const e=T(this[U],t);void 0!==e&&delete this[U][e]}raw(){return this[U]}keys(){return k(this,"key")}values(){return k(this,"value")}[Symbol.iterator](){return k(this,"key+value")}}function B(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(t[U]).sort();return n.map("key"===e?function(t){return t.toLowerCase()}:"value"===e?function(e){return t[U][e].join(", ")}:function(e){return[e.toLowerCase(),t[U][e].join(", ")]})}$.prototype.entries=$.prototype[Symbol.iterator],Object.defineProperty($.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties($.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const E=Symbol("internal");function k(t,e){const n=Object.create(C);return n[E]={target:t,kind:e,index:0},n}const C=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==C)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[E];const e=t.target,n=t.kind,r=t.index,i=B(e,n);return r>=i.length?{value:void 0,done:!0}:(this[E].index=r+1,{value:i[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function I(t){const e=Object.assign({__proto__:null},t[U]),n=T(t[U],"Host");return void 0!==n&&(e[n]=e[n][0]),e}Object.defineProperty(C,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const R=Symbol("Response internals"),L=i.STATUS_CODES;class M{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b.call(this,t,e);const n=e.status||200,r=new $(e.headers);if(null!=t&&!r.has("Content-Type")){const e=_(t);e&&r.append("Content-Type",e)}this[R]={url:e.url,status:n,statusText:e.statusText||L[n],headers:r,counter:e.counter}}get url(){return this[R].url||""}get status(){return this[R].status}get ok(){return this[R].status>=200&&this[R].status<300}get redirected(){return this[R].counter>0}get statusText(){return this[R].statusText}get headers(){return this[R].headers}clone(){return new M(v(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}b.mixIn(M.prototype),Object.defineProperties(M.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(M.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const A=Symbol("Request internals"),z=o.parse,D=o.format,H="destroy"in r.Readable.prototype;function N(t){return"object"==typeof t&&"object"==typeof t[A]}class q{constructor(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(t)?e=z(t.url):(e=t&&t.href?z(t.href):z(`${t}`),t={});let r=n.method||t.method||"GET";if(r=r.toUpperCase(),(null!=n.body||N(t)&&null!==t.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=n.body?n.body:N(t)&&null!==t.body?v(t):null;b.call(this,i,{timeout:n.timeout||t.timeout||0,size:n.size||t.size||0});const o=new $(n.headers||t.headers||{});if(null!=i&&!o.has("Content-Type")){const t=_(i);t&&o.append("Content-Type",t)}let s=N(t)?t.signal:null;if("signal"in n&&(s=n.signal),null!=s&&!function(t){const e=t&&"object"==typeof t&&Object.getPrototypeOf(t);return!(!e||"AbortSignal"!==e.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[A]={method:r,redirect:n.redirect||t.redirect||"follow",headers:o,parsedURL:e,signal:s},this.follow=void 0!==n.follow?n.follow:void 0!==t.follow?t.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===t.compress||t.compress,this.counter=n.counter||t.counter||0,this.agent=n.agent||t.agent}get method(){return this[A].method}get url(){return D(this[A].parsedURL)}get headers(){return this[A].headers}get redirect(){return this[A].redirect}get signal(){return this[A].signal}clone(){return new q(this)}}function W(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}b.mixIn(q.prototype),Object.defineProperty(q.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(q.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W.prototype.name="AbortError";const F=r.PassThrough,V=o.resolve;function K(t,e){if(!K.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return b.Promise=K.Promise,new K.Promise((function(n,o){const l=new q(t,e),c=function(t){const e=t[A].parsedURL,n=new $(t[A].headers);if(n.has("Accept")||n.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof r.Readable&&!H)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(null==t.body&&/^(POST|PUT)$/i.test(t.method)&&(i="0"),null!=t.body){const e=P(t);"number"==typeof e&&(i=String(e))}i&&n.set("Content-Length",i),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let o=t.agent;return"function"==typeof o&&(o=o(e)),n.has("Connection")||o||n.set("Connection","close"),Object.assign({},e,{method:t.method,headers:I(n),agent:o})}(l),u=("https:"===c.protocol?s:i).request,h=l.signal;let f=null;const p=function(){let t=new W("The user aborted a request.");o(t),l.body&&l.body instanceof r.Readable&&l.body.destroy(t),f&&f.body&&f.body.emit("error",t)};if(h&&h.aborted)return void p();const m=function(){p(),g()},b=u(c);let y;function g(){b.abort(),h&&h.removeEventListener("abort",m),clearTimeout(y)}h&&h.addEventListener("abort",m),l.timeout&&b.once("socket",(function(t){y=setTimeout((function(){o(new d(`network timeout at: ${l.url}`,"request-timeout")),g()}),l.timeout)})),b.on("error",(function(t){o(new d(`request to ${l.url} failed, reason: ${t.message}`,"system",t)),g()})),b.on("response",(function(t){clearTimeout(y);const e=function(t){const e=new $;for(const n of Object.keys(t))if(!S.test(n))if(Array.isArray(t[n]))for(const r of t[n])x.test(r)||(void 0===e[U][n]?e[U][n]=[r]:e[U][n].push(r));else x.test(t[n])||(e[U][n]=[t[n]]);return e}(t.headers);if(K.isRedirect(t.statusCode)){const r=e.get("Location"),i=null===r?null:V(l.url,r);switch(l.redirect){case"error":return o(new d(`uri requested responds with a redirect, redirect mode is set to error: ${l.url}`,"no-redirect")),void g();case"manual":if(null!==i)try{e.set("Location",i)}catch(t){o(t)}break;case"follow":if(null===i)break;if(l.counter>=l.follow)return o(new d(`maximum redirect reached at: ${l.url}`,"max-redirect")),void g();const r={headers:new $(l.headers),follow:l.follow,counter:l.counter+1,agent:l.agent,compress:l.compress,method:l.method,body:l.body,signal:l.signal,timeout:l.timeout,size:l.size};return 303!==t.statusCode&&l.body&&null===P(l)?(o(new d("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void g()):(303!==t.statusCode&&(301!==t.statusCode&&302!==t.statusCode||"POST"!==l.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),n(K(new q(i,r))),void g())}}t.once("end",(function(){h&&h.removeEventListener("abort",m)}));let r=t.pipe(new F);const i={url:l.url,status:t.statusCode,statusText:t.statusMessage,headers:e,size:l.size,timeout:l.timeout,counter:l.counter},s=e.get("Content-Encoding");if(!l.compress||"HEAD"===l.method||null===s||204===t.statusCode||304===t.statusCode)return f=new M(r,i),void n(f);const c={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return r=r.pipe(a.createGunzip(c)),f=new M(r,i),void n(f);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof a.createBrotliDecompress)return r=r.pipe(a.createBrotliDecompress()),f=new M(r,i),void n(f);f=new M(r,i),n(f)}else t.pipe(new F).once("data",(function(t){r=8==(15&t[0])?r.pipe(a.createInflate()):r.pipe(a.createInflateRaw()),f=new M(r,i),n(f)}))})),function(t,e){const n=e.body;null===n?t.end():w(n)?n.stream().pipe(t):Buffer.isBuffer(n)?(t.write(n),t.end()):n.pipe(t)}(b,l)}))}K.isRedirect=function(t){return 301===t||302===t||303===t||307===t||308===t},K.Promise=global.Promise;const G=K},542:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(149),e),i(n(898),e)},149:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Rating=void 0,(n=e.Rating||(e.Rating={}))[n.SwipeLeft=0]="SwipeLeft",n[n.Tried=2]="Tried",n[n.SwipeRight=3]="SwipeRight",n[n.Installed=4]="Installed",n[n.Retained=5]="Retained"},898:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.SettingKeys=void 0,(n=e.SettingKeys||(e.SettingKeys={})).userId="onlyThemes.userId",n.installPrompt="onlyThemes.installPrompt"},112:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=e.Extension=void 0;const s=o(n(549)),a=n(990),l=n(508),c=n(310);let u,h;class d{constructor(){this.activate=async()=>{await c.Settings.init(h.globalState);const t=new a.OnlyThemesViewProvider(h.globalState,h.extensionUri);h.subscriptions.push(s.commands.registerCommand("onlyThemes.loadPreview",((t,e)=>{new l.PreviewPanel(h.globalState,h.extensionUri,t,e)}))),h.subscriptions.push(s.window.registerWebviewViewProvider(a.OnlyThemesViewProvider.viewType,t)),h.subscriptions.push(s.commands.registerCommand("onlythemes.forgetMe",(async()=>{"Yes"==await s.window.showInformationMessage("This will reset all of your OnlyThemes ratings, but it will not affect any of your installed extensions. Are you sure you want to do this?","Yes","No")&&c.Settings.resetUser()})))},this.deactivate=()=>{console.log("bye bye")}}}e.Extension=d,e.activate=async function(t){h=t,u=new d,u.activate()},e.deactivate=async function(){u&&await u.deactivate()}},191:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.InstallPrompt=void 0;const s=o(n(549)),a=n(542);e.InstallPrompt=class{constructor(t,e,n){this.state=t,this.theme=e,this.extension=n,this.installMessage="Do it!"}async activate(){this.shouldShowBanner()&&await this.showInstallPrompt()}shouldShowBanner(){return!this.state.get(a.SettingKeys.installPrompt)}async showInstallPrompt(){const t=[this.installMessage,"No thanks"],e=await s.window.showInformationMessage("Is this the theme you've been waiting for? Want to install it?",...t);if(e&&e===this.installMessage){let t=s.extensions.getExtension(this.theme.extensionName);if(null==t&&(await s.window.withProgress({location:s.ProgressLocation.Notification},(t=>(t.report({message:`Installing ${this.theme.name} theme...`}),new Promise((t=>{s.extensions.onDidChange((e=>t(null))),s.commands.executeCommand("workbench.extensions.installExtension",this.theme.extensionName)}))))),t=s.extensions.getExtension(this.theme.extensionName)),void 0!==t){const e=s.workspace.getConfiguration();await t.activate().then((async t=>{await e.update("workbench.colorTheme",this.theme.name,s.ConfigurationTarget.Global),s.window.showInformationMessage(`Theme changed to ${this.theme.name}`)}))}}}}},990:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.OnlyThemesViewProvider=void 0;const a=o(n(549)),l=s(n(854)),c=n(310),u=n(542),h=n(191),d=["editor","sideBar","activityBar","titleBarActive"];class f{constructor(t,e){this._state=t,this._extensionUri=e}async resolveWebviewView(t,e,n){this._view=t,t.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},t.webview.onDidReceiveMessage((async t=>{await a.window.withProgress({location:a.ProgressLocation.Notification},(async e=>{switch(t.type){case"swipeLeft":await this.setRanking(u.Rating.SwipeLeft),await this.getThemeSuggestion();break;case"swipeRight":await this.setRanking(u.Rating.SwipeRight),await this.installPrompt(),await this.getThemeSuggestion();break;case"preview":await a.commands.executeCommand("onlyThemes.loadPreview",this.theme,this.extension)}}))})),await this.getThemeSuggestion()}async getThemeSuggestion(){var t,e;if(this._view)try{const n=await c.Settings.getUser();if(this.theme=void 0,n){const r=await l.default(`https://onlythemes.azurewebsites.net/api/ThemeSuggest?userId=${n}`),{theme:i,extension:o}=await r.json();i&&o&&(this.theme=i,this.extension=o,null===(e=(t=this._view).show)||void 0===e||e.call(t,!0),this._view.webview.html=this._getHtmlForWebview(i,o))}}catch(t){console.error(t)}}async setRanking(t){if(this._view)try{const e=await c.Settings.getUser();e&&this.theme&&await l.default("https://onlythemes.azurewebsites.net/api/RatingUpsert",{method:"POST",body:JSON.stringify({userId:e,themeId:this.theme.id,rating:t})})}catch(t){console.error(t)}}async installPrompt(){const t=new h.InstallPrompt(this._state,this.theme,this.extension);await t.activate()}_getHSLCSSDeclaration(t){return`hsl(${t.h}, ${t.s}%, ${t.l}%)`}_getColorPair(t){return this.theme&&this.theme.colors&&this.theme.colors[`${t}Background`]&&this.theme.colors[`${t}Foreground`]?`<dl>\n          <dt style="background-color:${this._getHSLCSSDeclaration(this.theme.colors[`${t}Background`])}"></dt>\n          <dd style="background-color:${this._getHSLCSSDeclaration(this.theme.colors[`${t}Foreground`])}"></dd>\n        </dl>`:""}_getHtmlForWebview(t,e){var n,r,i,o,s,l,c;const u=null===(n=this._view)||void 0===n?void 0:n.webview.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","main.js")),h=null===(r=this._view)||void 0===r?void 0:r.webview.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","reset.css")),f=null===(i=this._view)||void 0===i?void 0:i.webview.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","vscode.css")),p=null===(o=this._view)||void 0===o?void 0:o.webview.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","main.css")),m=null===(s=this._view)||void 0===s?void 0:s.webview.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","thumbs-up.svg")),b=null===(l=this._view)||void 0===l?void 0:l.webview.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","thumbs-down.svg")),y=(null===(c=this._view)||void 0===c||c.webview.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","arrows-angle-expand.svg")),function(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}());return d.map((t=>this._getColorPair(t))).join("\n"),`<!DOCTYPE html>\n\t\t\t<html lang="en">\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\x3c!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n\t\t\t\t--\x3e\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<link href="${h}" rel="stylesheet">\n\t\t\t\t<link href="${f}" rel="stylesheet">\n\t\t\t\t<link href="${p}" rel="stylesheet">\n        \n\t\t\t\t<title>Only Themes</title>\n\t\t\t</head>\n\t\t\t<body>\n        <article>\n          <header>\n            <h1>${t.name}</h1>\n            <h2>by ${e.publisher.displayName}</h2>\n          </header>\n          <main>\n            <a\n              title="Click to expand"\n              id="preview"\n              href="#">\n              <img src="https://onlythemes.azurewebsites.net/api/ThemeImage?themeId=${t.id}">\n            </a>\n            <section>\n              <div class="mode ${t.type}"></div>\n              <a class="link" \n                title="View extension on the marketplace"\n                href="https://marketplace.visualstudio.com/items?itemName=${t.extensionName}"></a>\n            </section>\n          </main>\n        </article>\n        <footer>\n          <button class="swipe-left-button" title="Not interested">\n            <img src="${b}"/>\n          </button>\n          <a class="repo" href="https://bbb.dev/onlythemes" title="See the code"></a>\n          <button class="swipe-right-button" title="I like it!">\n            <img src="${m}"/>\n          </button>\n        </footer>\n\t\t\t\t<script nonce="${y}" src="${u}"><\/script>\n\t\t\t</body>\n\t\t\t</html>`}}e.OnlyThemesViewProvider=f,f.viewType="onlyThemesView"},508:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.PreviewPanel=void 0;const s=o(n(549));class a{constructor(t,e,n,r){this._state=t,this._extensionUri=e,this._theme=n,this._extension=r,this._disposables=[],this._panel=s.window.createWebviewPanel(a.viewType,n.name,s.ViewColumn.One,{enableScripts:!0,localResourceRoots:[s.Uri.joinPath(e,"media")]}),this._panel.title=n.name,this._panel.webview.html=this._getHtmlForWebview(),this._panel.onDidDispose((()=>this.dispose()),null,this._disposables)}dispose(){for(this._panel.dispose();this._disposables.length;){const t=this._disposables.pop();t&&t.dispose()}}_getHtmlForWebview(){var t,e,n;const r=this._panel.webview.asWebviewUri(s.Uri.joinPath(this._extensionUri,"media","reset.css")),i=this._panel.webview.asWebviewUri(s.Uri.joinPath(this._extensionUri,"media","vscode.css")),o=this._panel.webview.asWebviewUri(s.Uri.joinPath(this._extensionUri,"media","preview.css")),a=this._panel.webview.asWebviewUri(s.Uri.joinPath(this._extensionUri,"media","download.svg")),l=this._panel.webview.asWebviewUri(s.Uri.joinPath(this._extensionUri,"media","version.svg")),c=this._panel.webview.asWebviewUri(s.Uri.joinPath(this._extensionUri,"media","github.svg")),u=(this._panel.webview.asWebviewUri(s.Uri.joinPath(this._extensionUri,"media","twitter.svg")),this._panel.webview.asWebviewUri(s.Uri.joinPath(this._extensionUri,"media","link.svg"))),h=(null===(t=this._extension.versions[0].files.find((t=>"Microsoft.VisualStudio.Services.Icons.Small"===t.assetType)))||void 0===t?void 0:t.source)||"",d=(null===(e=this._extension.statistics.find((t=>"install"===t.statisticName)))||void 0===e?void 0:e.value)||0,f=null===(n=this._extension.versions[0].properties.find((t=>"Microsoft.VisualStudio.Services.Links.GitHub"===t.key)))||void 0===n?void 0:n.value;return`<!DOCTYPE html>\n\t\t\t<html lang="en">\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\x3c!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n\t\t\t\t--\x3e\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<link href="${r}" rel="stylesheet">\n\t\t\t\t<link href="${i}" rel="stylesheet">\n\t\t\t\t<link href="${o}" rel="stylesheet">\n        \n\t\t\t\t<title>${this._theme.name}</title>\n\t\t\t</head>\n\t\t\t<body>\n        <article>\n          <header>\n\t\t\t\t\t\t<img src="${h}"/>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h1>${this._theme.name}</h1>\n\t\t\t\t\t\t\t<h2>by ${this._extension.publisher.displayName}</h2>\n\t\t\t\t\t\t\t<p>${this._extension.shortDescription}</p>\n\t\t\t\t\t\t</div>\n          </header>\n          <main>\n            <img src="https://onlythemes.azurewebsites.net/api/ThemeImage?themeId=${this._theme.id}"/>\n          </main>\n\t\t\t\t\t<footer>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<dl title="Type">\n\t\t\t\t\t\t\t\t<dt class="icon ${this._theme.type}"></dt>\n\t\t\t\t\t\t\t\t<dd>${"vs"===this._theme.type?"Light":"Dark"}</dd>\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t<dl title="Version">\n\t\t\t\t\t\t\t\t<dt class="icon">\n\t\t\t\t\t\t\t\t\t<img src="${l}"/>\n\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t<dd>v${this._extension.versions[0].version}</dd>\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t<dl title="Installs">\n\t\t\t\t\t\t\t\t<dt class="icon">\n\t\t\t\t\t\t\t\t\t<img src="${a}"/>\n\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t<dd>${d.toLocaleString("en")}</dd>\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\t\ttitle="View on VS Code Marketplace"\n\t\t\t\t\t\t\t\t\t\thref="https://marketplace.visualstudio.com/items?itemName=${this._theme.extensionName}">\n\t\t\t\t\t\t\t\t\t\t<img src="${u}"/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\t\ttitle="View it on GitHub"\n\t\t\t\t\t\t\t\t\t\thref="${f}">\n\t\t\t\t\t\t\t\t\t\t<img src="${c}"/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</footer>\n        </article>\n\t\t\t</body>\n\t\t\t</html>`}}e.PreviewPanel=a,a.viewType="previewPanel"},310:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=void 0;const r=n(749),i=n(542);e.Settings=class{static async init(t){if(this.storage=t,!await this.getUser()){const t=r.v4();await this.storage.update(i.SettingKeys.userId,t)}}static async getUser(){return await this.storage.get(i.SettingKeys.userId)}static async resetUser(){const t=r.v4();await this.storage.update(i.SettingKeys.userId,t)}}},749:(t,e,n)=>{n.r(e),n.d(e,{NIL:()=>P,parse:()=>y,stringify:()=>h,v1:()=>b,v3:()=>w,v4:()=>v,v5:()=>_,validate:()=>c,version:()=>S});const r=require("crypto");var i=n.n(r);const o=new Uint8Array(256);let s=o.length;function a(){return s>o.length-16&&(i().randomFillSync(o),s=0),o.slice(s,s+=16)}const l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(t){return"string"==typeof t&&l.test(t)},u=[];for(let t=0;t<256;++t)u.push((t+256).toString(16).substr(1));const h=function(t,e=0){const n=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};let d,f,p=0,m=0;const b=function(t,e,n){let r=e&&n||0;const i=e||new Array(16);let o=(t=t||{}).node||d,s=void 0!==t.clockseq?t.clockseq:f;if(null==o||null==s){const e=t.random||(t.rng||a)();null==o&&(o=d=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==s&&(s=f=16383&(e[6]<<8|e[7]))}let l=void 0!==t.msecs?t.msecs:Date.now(),c=void 0!==t.nsecs?t.nsecs:m+1;const u=l-p+(c-m)/1e4;if(u<0&&void 0===t.clockseq&&(s=s+1&16383),(u<0||l>p)&&void 0===t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=l,m=c,f=s,l+=122192928e5;const b=(1e4*(268435455&l)+c)%4294967296;i[r++]=b>>>24&255,i[r++]=b>>>16&255,i[r++]=b>>>8&255,i[r++]=255&b;const y=l/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=255&y,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(let t=0;t<6;++t)i[r+t]=o[t];return e||h(i)},y=function(t){if(!c(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};function g(t,e,n){function r(t,r,i,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=y(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+t.length);if(s.set(r),s.set(t,r.length),s=n(s),s[6]=15&s[6]|e,s[8]=63&s[8]|128,i){o=o||0;for(let t=0;t<16;++t)i[o+t]=s[t];return i}return h(s)}try{r.name=t}catch(t){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const w=g("v3",48,(function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),i().createHash("md5").update(t).digest()})),v=function(t,e,n){const r=(t=t||{}).random||(t.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return h(r)},_=g("v5",80,(function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),i().createHash("sha1").update(t).digest()})),P="00000000-0000-0000-0000-000000000000",S=function(t){if(!c(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},549:t=>{t.exports=require("vscode")}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r=n(112);module.exports=r})();
//# sourceMappingURL=extension.js.map