const p=Math.PI,v=2*p,c=1e-6,q=v-c;function y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function C(){return new y}function E(t){return function(){return t}}y.prototype=C.prototype={constructor:y,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,s,h){this._+="Q"+ +t+","+ +i+","+(this._x1=+s)+","+(this._y1=+h)},bezierCurveTo:function(t,i,s,h,_,n){this._+="C"+ +t+","+ +i+","+ +s+","+ +h+","+(this._x1=+_)+","+(this._y1=+n)},arcTo:function(t,i,s,h,_){t=+t,i=+i,s=+s,h=+h,_=+_;var n=this._x1,o=this._y1,r=s-t,a=h-i,e=n-t,u=o-i,y=e*e+u*u;if(_<0)throw new Error("negative radius: "+_);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(y>c)if(Math.abs(u*r-a*e)>c&&_){var x=s-n,f=h-o,M=r*r+a*a,v=x*x+f*f,l=Math.sqrt(M),C=Math.sqrt(y),b=_*Math.tan((p-Math.acos((M+y-v)/(2*l*C)))/2),q=b/C,w=b/l;Math.abs(q-1)>c&&(this._+="L"+(t+q*e)+","+(i+q*u)),this._+="A"+_+","+_+",0,0,"+ +(u*x>e*f)+","+(this._x1=t+w*r)+","+(this._y1=i+w*a)}else this._+="L"+(this._x1=t)+","+(this._y1=i)},arc:function(t,i,s,h,_,n){t=+t,i=+i,n=!!n;var o=(s=+s)*Math.cos(h),r=s*Math.sin(h),a=t+o,e=i+r,u=1^n,y=n?h-_:_-h;if(s<0)throw new Error("negative radius: "+s);null===this._x1?this._+="M"+a+","+e:(Math.abs(this._x1-a)>c||Math.abs(this._y1-e)>c)&&(this._+="L"+a+","+e),s&&(y<0&&(y=y%v+v),y>q?this._+="A"+s+","+s+",0,1,"+u+","+(t-o)+","+(i-r)+"A"+s+","+s+",0,1,"+u+","+(this._x1=a)+","+(this._y1=e):y>c&&(this._+="A"+s+","+s+",0,"+ +(y>=p)+","+u+","+(this._x1=t+s*Math.cos(_))+","+(this._y1=i+s*Math.sin(_))))},rect:function(t,i,s,h){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +h+"h"+-s+"Z"},toString:function(){return this._}};export{E as c,C as p};