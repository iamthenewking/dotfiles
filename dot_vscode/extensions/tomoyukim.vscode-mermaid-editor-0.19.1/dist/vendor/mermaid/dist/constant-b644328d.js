const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function constant(t){return function(){return t}}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,s,h){this._+="Q"+ +t+","+ +i+","+(this._x1=+s)+","+(this._y1=+h)},bezierCurveTo:function(t,i,s,h,n,_){this._+="C"+ +t+","+ +i+","+ +s+","+ +h+","+(this._x1=+n)+","+(this._y1=+_)},arcTo:function(t,i,s,h,n){t=+t,i=+i,s=+s,h=+h,n=+n;var _=this._x1,a=this._y1,o=s-t,r=h-i,e=_-t,u=a-i,c=e*e+u*u;if(n<0)throw new Error("negative radius: "+n);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(c>epsilon)if(Math.abs(u*o-r*e)>epsilon&&n){var p=s-_,l=h-a,x=o*o+r*r,y=p*p+l*l,f=Math.sqrt(x),M=Math.sqrt(c),v=n*Math.tan((pi-Math.acos((x+c-y)/(2*f*M)))/2),P=v/M,b=v/f;Math.abs(P-1)>epsilon&&(this._+="L"+(t+P*e)+","+(i+P*u)),this._+="A"+n+","+n+",0,0,"+ +(u*p>e*l)+","+(this._x1=t+b*o)+","+(this._y1=i+b*r)}else this._+="L"+(this._x1=t)+","+(this._y1=i)},arc:function(t,i,s,h,n,_){t=+t,i=+i,_=!!_;var a=(s=+s)*Math.cos(h),o=s*Math.sin(h),r=t+a,e=i+o,u=1^_,c=_?h-n:n-h;if(s<0)throw new Error("negative radius: "+s);null===this._x1?this._+="M"+r+","+e:(Math.abs(this._x1-r)>epsilon||Math.abs(this._y1-e)>epsilon)&&(this._+="L"+r+","+e),s&&(c<0&&(c=c%tau+tau),c>tauEpsilon?this._+="A"+s+","+s+",0,1,"+u+","+(t-a)+","+(i-o)+"A"+s+","+s+",0,1,"+u+","+(this._x1=r)+","+(this._y1=e):c>epsilon&&(this._+="A"+s+","+s+",0,"+ +(c>=pi)+","+u+","+(this._x1=t+s*Math.cos(n))+","+(this._y1=i+s*Math.sin(n))))},rect:function(t,i,s,h){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +h+"h"+-s+"Z"},toString:function(){return this._}};export{constant as c,path as p};