import{a6 as M,a7 as He,a8 as $,a9 as _,aa as L,ab as Fr,ac as nn,ad as D,ae as X,af as Z,ag as Un,ah as Dr,ai as ke,aj as Gr,ak as Br,al as Yn,am as Ur,an as qe,ao as Hn,ap as V,aq as cn,ar as kn,as as Yr,y as Mn,at as Ln,au as se}from"./mermaid-42f7bf2b.js";var Hr="[object Symbol]";function R(n){return"symbol"==typeof n||M(n)&&He(n)==Hr}function H(n,e){for(var t=-1,r=null==n?0:n.length,o=Array(r);++t<r;)o[t]=e(n[t],t,n);return o}var kr=1/0,fe=$?$.prototype:void 0,de=fe?fe.toString:void 0;function Ke(n){if("string"==typeof n)return n;if(_(n))return H(n,Ke)+"";if(R(n))return de?de.call(n):"";var e=n+"";return"0"==e&&1/n==-kr?"-0":e}var qr=/\s/;function Kr(n){for(var e=n.length;e--&&qr.test(n.charAt(e)););return e}var Wr=/^\s+/;function Xr(n){return n&&n.slice(0,Kr(n)+1).replace(Wr,"")}var ce=NaN,Zr=/^[-+]0x[0-9a-f]+$/i,Vr=/^0b[01]+$/i,zr=/^0o[0-7]+$/i,Jr=parseInt;function jr(n){if("number"==typeof n)return n;if(R(n))return ce;if(L(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=L(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=Xr(n);var t=Vr.test(n);return t||zr.test(n)?Jr(n.slice(2),t?2:8):Zr.test(n)?ce:+n}var le=1/0,Qr=17976931348623157e292;function fn(n){return n?(n=jr(n))===le||n===-le?(n<0?-1:1)*Qr:n==n?n:0:0===n?n:0}function nt(n){var e=fn(n),t=e%1;return e==e?t?e-t:e:0}function G(n){return n}var he=Object.create,et=function(){function n(){}return function(e){if(!L(e))return{};if(he)return he(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const rt=et;function tt(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function it(){}function We(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var at=800,ot=16,ut=Date.now;function st(n){var e=0,t=0;return function(){var r=ut(),o=ot-(r-t);if(t=r,o>0){if(++e>=at)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Y(n){return function(){return n}}var ft=function(){try{var n=Fr(Object,"defineProperty");return n({},"",{}),n}catch{}}();const ln=ft;var dt=ln?function(n,e){return ln(n,"toString",{configurable:!0,enumerable:!1,value:Y(e),writable:!0})}:G;const ct=dt;var lt=st(ct);const Xe=lt;function Ze(n,e){for(var t=-1,r=null==n?0:n.length;++t<r&&!1!==e(n[t],t,n););return n}function Ve(n,e,t,r){for(var o=n.length,i=t+(r?1:-1);r?i--:++i<o;)if(e(n[i],i,n))return i;return-1}function ht(n){return n!=n}function vt(n,e,t){for(var r=t-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}function gt(n,e,t){return e==e?vt(n,e,t):Ve(n,ht,t)}function pt(n,e){return!(null==n||!n.length)&&gt(n,e,0)>-1}var bt=9007199254740991,wt=/^(?:0|[1-9]\d*)$/;function pn(n,e){var t=typeof n;return!!(e=e??bt)&&("number"==t||"symbol"!=t&&wt.test(n))&&n>-1&&n%1==0&&n<e}function bn(n,e,t){"__proto__"==e&&ln?ln(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var mt=Object.prototype,_t=mt.hasOwnProperty;function wn(n,e,t){var r=n[e];(!_t.call(n,e)||!nn(r,t)||void 0===t&&!(e in n))&&bn(n,e,t)}function en(n,e,t,r){var o=!t;t||(t={});for(var i=-1,u=e.length;++i<u;){var a=e[i],c=r?r(t[a],n[a],a,t,n):void 0;void 0===c&&(c=n[a]),o?bn(t,a,c):wn(t,a,c)}return t}var ve=Math.max;function ze(n,e,t){return e=ve(void 0===e?n.length-1:e,0),function(){for(var r=arguments,o=-1,i=ve(r.length-e,0),u=Array(i);++o<i;)u[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=t(u),tt(n,this,a)}}function mn(n,e){return Xe(ze(n,e,G),n+"")}function z(n,e,t){if(!L(t))return!1;var r=typeof e;return!!("number"==r?D(t)&&pn(e,t.length):"string"==r&&e in t)&&nn(t[e],n)}function Et(n){return mn((function(e,t){var r=-1,o=t.length,i=o>1?t[o-1]:void 0,u=o>2?t[2]:void 0;for(i=n.length>3&&"function"==typeof i?(o--,i):void 0,u&&z(t[0],t[1],u)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=t[r];a&&n(e,a,r,i)}return e}))}function yt(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var xt=Object.prototype,Tt=xt.hasOwnProperty;function Je(n,e){var t=_(n),r=!t&&X(n),o=!t&&!r&&Z(n),i=!t&&!r&&!o&&Un(n),u=t||r||o||i,a=u?yt(n.length,String):[],c=a.length;for(var s in n)(e||Tt.call(n,s))&&(!u||!("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||pn(s,c)))&&a.push(s);return a}function T(n){return D(n)?Je(n):Dr(n)}function Ot(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}var Lt=Object.prototype,At=Lt.hasOwnProperty;function Pt(n){if(!L(n))return Ot(n);var e=ke(n),t=[];for(var r in n)"constructor"==r&&(e||!At.call(n,r))||t.push(r);return t}function B(n){return D(n)?Je(n,!0):Pt(n)}var Nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$t=/^\w*$/;function qn(n,e){if(_(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!R(n))||$t.test(n)||!Nt.test(n)||null!=e&&n in Object(e)}var Ct=500;function It(n){var e=Gr(n,(function(n){return t.size===Ct&&t.clear(),n})),t=e.cache;return e}var St=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/\\(\\)?/g,Rt=It((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(St,(function(n,t,r,o){e.push(r?o.replace(Mt,"$1"):t||n)})),e}));const Ft=Rt;function je(n){return null==n?"":Ke(n)}function _n(n,e){return _(n)?n:qn(n,e)?[n]:Ft(je(n))}var Dt=1/0;function rn(n){if("string"==typeof n||R(n))return n;var e=n+"";return"0"==e&&1/n==-Dt?"-0":e}function En(n,e){for(var t=0,r=(e=_n(e,n)).length;null!=n&&t<r;)n=n[rn(e[t++])];return t&&t==r?n:void 0}function Gt(n,e,t){var r=null==n?void 0:En(n,e);return void 0===r?t:r}function Kn(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}var ge=$?$.isConcatSpreadable:void 0;function Bt(n){return _(n)||X(n)||!!(ge&&n&&n[ge])}function yn(n,e,t,r,o){var i=-1,u=n.length;for(t||(t=Bt),o||(o=[]);++i<u;){var a=n[i];e>0&&t(a)?e>1?yn(a,e-1,t,r,o):Kn(o,a):r||(o[o.length]=a)}return o}function q(n){return null!=n&&n.length?yn(n,1):[]}function Ut(n){return Xe(ze(n,void 0,q),n+"")}var Yt=Br(Object.getPrototypeOf,Object);const Wn=Yt;var Ht="[object Object]",kt=Function.prototype,qt=Object.prototype,Qe=kt.toString,Kt=qt.hasOwnProperty,Wt=Qe.call(Object);function Xt(n){if(!M(n)||He(n)!=Ht)return!1;var e=Wn(n);if(null===e)return!0;var t=Kt.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&Qe.call(t)==Wt}function Zt(n,e,t,r){var o=-1,i=null==n?0:n.length;for(r&&i&&(t=n[++o]);++o<i;)t=e(t,n[o],o,n);return t}function Vt(){this.__data__=new Yn,this.size=0}function zt(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Jt(n){return this.__data__.get(n)}function jt(n){return this.__data__.has(n)}var Qt=200;function ni(n,e){var t=this.__data__;if(t instanceof Yn){var r=t.__data__;if(!Ur||r.length<Qt-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new qe(r)}return t.set(n,e),this.size=t.size,this}function O(n){var e=this.__data__=new Yn(n);this.size=e.size}function ei(n,e){return n&&en(e,T(e),n)}function ri(n,e){return n&&en(e,B(e),n)}O.prototype.clear=Vt,O.prototype.delete=zt,O.prototype.get=Jt,O.prototype.has=jt,O.prototype.set=ni;var nr="object"==typeof exports&&exports&&!exports.nodeType&&exports,pe=nr&&"object"==typeof module&&module&&!module.nodeType&&module,ti=pe&&pe.exports===nr,be=ti?Hn.Buffer:void 0,we=be?be.allocUnsafe:void 0;function er(n,e){if(e)return n.slice();var t=n.length,r=we?we(t):new n.constructor(t);return n.copy(r),r}function rr(n,e){for(var t=-1,r=null==n?0:n.length,o=0,i=[];++t<r;){var u=n[t];e(u,t,n)&&(i[o++]=u)}return i}function tr(){return[]}var ii=Object.prototype,ai=ii.propertyIsEnumerable,me=Object.getOwnPropertySymbols,oi=me?function(n){return null==n?[]:(n=Object(n),rr(me(n),(function(e){return ai.call(n,e)})))}:tr;const Xn=oi;function ui(n,e){return en(n,Xn(n),e)}var si=Object.getOwnPropertySymbols,fi=si?function(n){for(var e=[];n;)Kn(e,Xn(n)),n=Wn(n);return e}:tr;const ir=fi;function di(n,e){return en(n,ir(n),e)}function ar(n,e,t){var r=e(n);return _(n)?r:Kn(r,t(n))}function Rn(n){return ar(n,T,Xn)}function ci(n){return ar(n,B,ir)}var li=Object.prototype,hi=li.hasOwnProperty;function vi(n){var e=n.length,t=new n.constructor(e);return e&&"string"==typeof n[0]&&hi.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var gi=Hn.Uint8Array;const hn=gi;function Zn(n){var e=new n.constructor(n.byteLength);return new hn(e).set(new hn(n)),e}function pi(n,e){var t=e?Zn(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var bi=/\w*$/;function wi(n){var e=new n.constructor(n.source,bi.exec(n));return e.lastIndex=n.lastIndex,e}var _e=$?$.prototype:void 0,Ee=_e?_e.valueOf:void 0;function mi(n){return Ee?Object(Ee.call(n)):{}}function or(n,e){var t=e?Zn(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var _i="[object Boolean]",Ei="[object Date]",yi="[object Map]",xi="[object Number]",Ti="[object RegExp]",Oi="[object Set]",Li="[object String]",Ai="[object Symbol]",Pi="[object ArrayBuffer]",Ni="[object DataView]",$i="[object Float32Array]",Ci="[object Float64Array]",Ii="[object Int8Array]",Si="[object Int16Array]",Mi="[object Int32Array]",Ri="[object Uint8Array]",Fi="[object Uint8ClampedArray]",Di="[object Uint16Array]",Gi="[object Uint32Array]";function Bi(n,e,t){var r=n.constructor;switch(e){case Pi:return Zn(n);case _i:case Ei:return new r(+n);case Ni:return pi(n,t);case $i:case Ci:case Ii:case Si:case Mi:case Ri:case Fi:case Di:case Gi:return or(n,t);case yi:return new r;case xi:case Li:return new r(n);case Ti:return wi(n);case Oi:return new r;case Ai:return mi(n)}}function ur(n){return"function"!=typeof n.constructor||ke(n)?{}:rt(Wn(n))}var Ui="[object Map]";function Yi(n){return M(n)&&V(n)==Ui}var ye=cn&&cn.isMap,Hi=ye?kn(ye):Yi;const ki=Hi;var qi="[object Set]";function Ki(n){return M(n)&&V(n)==qi}var xe=cn&&cn.isSet,Wi=xe?kn(xe):Ki;const Xi=Wi;var Zi=1,Vi=2,zi=4,sr="[object Arguments]",Ji="[object Array]",ji="[object Boolean]",Qi="[object Date]",na="[object Error]",fr="[object Function]",ea="[object GeneratorFunction]",ra="[object Map]",ta="[object Number]",dr="[object Object]",ia="[object RegExp]",aa="[object Set]",oa="[object String]",ua="[object Symbol]",sa="[object WeakMap]",fa="[object ArrayBuffer]",da="[object DataView]",ca="[object Float32Array]",la="[object Float64Array]",ha="[object Int8Array]",va="[object Int16Array]",ga="[object Int32Array]",pa="[object Uint8Array]",ba="[object Uint8ClampedArray]",wa="[object Uint16Array]",ma="[object Uint32Array]",w={};function dn(n,e,t,r,o,i){var u,a=e&Zi,c=e&Vi,s=e&zi;if(t&&(u=o?t(n,r,o,i):t(n)),void 0!==u)return u;if(!L(n))return n;var f=_(n);if(f){if(u=vi(n),!a)return We(n,u)}else{var d=V(n),h=d==fr||d==ea;if(Z(n))return er(n,a);if(d==dr||d==sr||h&&!o){if(u=c||h?{}:ur(n),!a)return c?di(n,ri(u,n)):ui(n,ei(u,n))}else{if(!w[d])return o?n:{};u=Bi(n,d,a)}}i||(i=new O);var v=i.get(n);if(v)return v;i.set(n,u),Xi(n)?n.forEach((function(r){u.add(dn(r,e,t,r,n,i))})):ki(n)&&n.forEach((function(r,o){u.set(o,dn(r,e,t,o,n,i))}));var l=f?void 0:(s?c?ci:Rn:c?B:T)(n);return Ze(l||n,(function(r,o){l&&(r=n[o=r]),wn(u,o,dn(r,e,t,o,n,i))})),u}w[sr]=w[Ji]=w[fa]=w[da]=w[ji]=w[Qi]=w[ca]=w[la]=w[ha]=w[va]=w[ga]=w[ra]=w[ta]=w[dr]=w[ia]=w[aa]=w[oa]=w[ua]=w[pa]=w[ba]=w[wa]=w[ma]=!0,w[na]=w[fr]=w[sa]=!1;var _a=1,Ea=4;function ya(n){return dn(n,_a|Ea)}var xa="__lodash_hash_undefined__";function Ta(n){return this.__data__.set(n,xa),this}function Oa(n){return this.__data__.has(n)}function J(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new qe;++e<t;)this.add(n[e])}function La(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function cr(n,e){return n.has(e)}J.prototype.add=J.prototype.push=Ta,J.prototype.has=Oa;var Aa=1,Pa=2;function lr(n,e,t,r,o,i){var u=t&Aa,a=n.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var s=i.get(n),f=i.get(e);if(s&&f)return s==e&&f==n;var d=-1,h=!0,v=t&Pa?new J:void 0;for(i.set(n,e),i.set(e,n);++d<a;){var l=n[d],g=e[d];if(r)var p=u?r(g,l,d,e,n,i):r(l,g,d,n,e,i);if(void 0!==p){if(p)continue;h=!1;break}if(v){if(!La(e,(function(n,e){if(!cr(v,e)&&(l===n||o(l,n,t,r,i)))return v.push(e)}))){h=!1;break}}else if(l!==g&&!o(l,g,t,r,i)){h=!1;break}}return i.delete(n),i.delete(e),h}function Na(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}function Vn(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}var $a=1,Ca=2,Ia="[object Boolean]",Sa="[object Date]",Ma="[object Error]",Ra="[object Map]",Fa="[object Number]",Da="[object RegExp]",Ga="[object Set]",Ba="[object String]",Ua="[object Symbol]",Ya="[object ArrayBuffer]",Ha="[object DataView]",Te=$?$.prototype:void 0,An=Te?Te.valueOf:void 0;function ka(n,e,t,r,o,i,u){switch(t){case Ha:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Ya:return!(n.byteLength!=e.byteLength||!i(new hn(n),new hn(e)));case Ia:case Sa:case Fa:return nn(+n,+e);case Ma:return n.name==e.name&&n.message==e.message;case Da:case Ba:return n==e+"";case Ra:var a=Na;case Ga:var c=r&$a;if(a||(a=Vn),n.size!=e.size&&!c)return!1;var s=u.get(n);if(s)return s==e;r|=Ca,u.set(n,e);var f=lr(a(n),a(e),r,o,i,u);return u.delete(n),f;case Ua:if(An)return An.call(n)==An.call(e)}return!1}var qa=1,Ka=Object.prototype,Wa=Ka.hasOwnProperty;function Xa(n,e,t,r,o,i){var u=t&qa,a=Rn(n),c=a.length;if(c!=Rn(e).length&&!u)return!1;for(var s=c;s--;){var f=a[s];if(!(u?f in e:Wa.call(e,f)))return!1}var d=i.get(n),h=i.get(e);if(d&&h)return d==e&&h==n;var v=!0;i.set(n,e),i.set(e,n);for(var l=u;++s<c;){var g=n[f=a[s]],p=e[f];if(r)var b=u?r(p,g,f,e,n,i):r(g,p,f,n,e,i);if(!(void 0===b?g===p||o(g,p,t,r,i):b)){v=!1;break}l||(l="constructor"==f)}if(v&&!l){var w=n.constructor,y=e.constructor;w!=y&&"constructor"in n&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof y&&y instanceof y)&&(v=!1)}return i.delete(n),i.delete(e),v}var Za=1,Oe="[object Arguments]",Le="[object Array]",sn="[object Object]",Va=Object.prototype,Ae=Va.hasOwnProperty;function za(n,e,t,r,o,i){var u=_(n),a=_(e),c=u?Le:V(n),s=a?Le:V(e),f=(c=c==Oe?sn:c)==sn,d=(s=s==Oe?sn:s)==sn,h=c==s;if(h&&Z(n)){if(!Z(e))return!1;u=!0,f=!1}if(h&&!f)return i||(i=new O),u||Un(n)?lr(n,e,t,r,o,i):ka(n,e,c,t,r,o,i);if(!(t&Za)){var v=f&&Ae.call(n,"__wrapped__"),l=d&&Ae.call(e,"__wrapped__");if(v||l){var g=v?n.value():n,p=l?e.value():e;return i||(i=new O),o(g,p,t,r,i)}}return!!h&&(i||(i=new O),Xa(n,e,t,r,o,i))}function zn(n,e,t,r,o){return n===e||(null==n||null==e||!M(n)&&!M(e)?n!=n&&e!=e:za(n,e,t,r,zn,o))}var Ja=1,ja=2;function Qa(n,e,t,r){var o=t.length,i=o,u=!r;if(null==n)return!i;for(n=Object(n);o--;){var a=t[o];if(u&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++o<i;){var c=(a=t[o])[0],s=n[c],f=a[1];if(u&&a[2]){if(void 0===s&&!(c in n))return!1}else{var d=new O;if(r)var h=r(s,f,c,n,e,d);if(!(void 0===h?zn(f,s,Ja|ja,r,d):h))return!1}}return!0}function hr(n){return n==n&&!L(n)}function no(n){for(var e=T(n),t=e.length;t--;){var r=e[t],o=n[r];e[t]=[r,o,hr(o)]}return e}function vr(n,e){return function(t){return null!=t&&t[n]===e&&(void 0!==e||n in Object(t))}}function eo(n){var e=no(n);return 1==e.length&&e[0][2]?vr(e[0][0],e[0][1]):function(t){return t===n||Qa(t,n,e)}}function ro(n,e){return null!=n&&e in Object(n)}function gr(n,e,t){for(var r=-1,o=(e=_n(e,n)).length,i=!1;++r<o;){var u=rn(e[r]);if(!(i=null!=n&&t(n,u)))break;n=n[u]}return i||++r!=o?i:!!(o=null==n?0:n.length)&&Yr(o)&&pn(u,o)&&(_(n)||X(n))}function pr(n,e){return null!=n&&gr(n,e,ro)}var to=1,io=2;function ao(n,e){return qn(n)&&hr(e)?vr(rn(n),e):function(t){var r=Gt(t,n);return void 0===r&&r===e?pr(t,n):zn(e,r,to|io)}}function oo(n){return function(e){return null==e?void 0:e[n]}}function uo(n){return function(e){return En(e,n)}}function so(n){return qn(n)?oo(rn(n)):uo(n)}function C(n){return"function"==typeof n?n:null==n?G:"object"==typeof n?_(n)?ao(n[0],n[1]):eo(n):so(n)}function fo(n){return function(e,t,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[n?a:++o];if(!1===t(i[c],c,i))break}return e}}var co=fo();const Jn=co;function jn(n,e){return n&&Jn(n,e,T)}function lo(n,e){return function(t,r){if(null==t)return t;if(!D(t))return n(t,r);for(var o=t.length,i=e?o:-1,u=Object(t);(e?i--:++i<o)&&!1!==r(u[i],i,u););return t}}var ho=lo(jn);const xn=ho;var vo=function(){return Hn.Date.now()};const Pe=vo;var br=Object.prototype,go=br.hasOwnProperty,po=mn((function(n,e){n=Object(n);var t=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&z(e[0],e[1],o)&&(r=1);++t<r;)for(var i=e[t],u=B(i),a=-1,c=u.length;++a<c;){var s=u[a],f=n[s];(void 0===f||nn(f,br[s])&&!go.call(n,s))&&(n[s]=i[s])}return n}));const bo=po;function Fn(n,e,t){(void 0!==t&&!nn(n[e],t)||void 0===t&&!(e in n))&&bn(n,e,t)}function wr(n){return M(n)&&D(n)}function Dn(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]}function wo(n){return en(n,B(n))}function mo(n,e,t,r,o,i,u){var a=Dn(n,t),c=Dn(e,t),s=u.get(c);if(s)Fn(n,t,s);else{var f=i?i(a,c,t+"",n,e,u):void 0,d=void 0===f;if(d){var h=_(c),v=!h&&Z(c),l=!h&&!v&&Un(c);f=c,h||v||l?_(a)?f=a:wr(a)?f=We(a):v?(d=!1,f=er(c,!0)):l?(d=!1,f=or(c,!0)):f=[]:Xt(c)||X(c)?(f=a,X(a)?f=wo(a):(!L(a)||Mn(a))&&(f=ur(c))):d=!1}d&&(u.set(c,f),o(f,c,r,i,u),u.delete(c)),Fn(n,t,f)}}function mr(n,e,t,r,o){n!==e&&Jn(e,(function(i,u){if(o||(o=new O),L(i))mo(n,e,u,t,mr,r,o);else{var a=r?r(Dn(n,u),i,u+"",n,e,o):void 0;void 0===a&&(a=i),Fn(n,u,a)}}),B)}function _o(n,e,t){for(var r=-1,o=null==n?0:n.length;++r<o;)if(t(e,n[r]))return!0;return!1}function vn(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}function Qn(n){return"function"==typeof n?n:G}function c(n,e){return(_(n)?Ze:xn)(n,Qn(e))}function Eo(n,e){var t=[];return xn(n,(function(n,r,o){e(n,r,o)&&t.push(n)})),t}function P(n,e){return(_(n)?rr:Eo)(n,C(e))}function yo(n){return function(e,t,r){var o=Object(e);if(!D(e)){var i=C(t);e=T(e),t=function(n){return i(o[n],n,o)}}var u=n(e,t,r);return u>-1?o[i?e[u]:u]:void 0}}var xo=Math.max;function To(n,e,t){var r=null==n?0:n.length;if(!r)return-1;var o=null==t?0:nt(t);return o<0&&(o=xo(r+o,0)),Ve(n,C(e),o)}var Oo=yo(To);const ne=Oo;function _r(n,e){var t=-1,r=D(n)?Array(n.length):[];return xn(n,(function(n,o,i){r[++t]=e(n,o,i)})),r}function y(n,e){return(_(n)?H:_r)(n,C(e))}function Lo(n,e){return null==n?n:Jn(n,Qn(e),B)}function Ao(n,e){return n&&jn(n,Qn(e))}function Po(n,e){return n>e}var No=Object.prototype,$o=No.hasOwnProperty;function Co(n,e){return null!=n&&$o.call(n,e)}function b(n,e){return null!=n&&gr(n,e,Co)}function Io(n,e){return H(e,(function(e){return n[e]}))}function N(n){return null==n?[]:Io(n,T(n))}function x(n){return void 0===n}function Er(n,e){return n<e}function Tn(n,e){var t={};return e=C(e),jn(n,(function(n,r,o){bn(t,r,e(n,r,o))})),t}function ee(n,e,t){for(var r=-1,o=n.length;++r<o;){var i=n[r],u=e(i);if(null!=u&&(void 0===a?u==u&&!R(u):t(u,a)))var a=u,c=i}return c}function F(n){return n&&n.length?ee(n,G,Po):void 0}var So=Et((function(n,e,t){mr(n,e,t)}));const Gn=So;function j(n){return n&&n.length?ee(n,G,Er):void 0}function re(n,e){return n&&n.length?ee(n,C(e),Er):void 0}function Mo(n,e,t,r){if(!L(n))return n;for(var o=-1,i=(e=_n(e,n)).length,u=i-1,a=n;null!=a&&++o<i;){var c=rn(e[o]),s=t;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(o!=u){var f=a[c];void 0===(s=r?r(f,c,a):void 0)&&(s=L(f)?f:pn(e[o+1])?[]:{})}wn(a,c,s),a=a[c]}return n}function Ro(n,e,t){for(var r=-1,o=e.length,i={};++r<o;){var u=e[r],a=En(n,u);t(a,u)&&Mo(i,_n(u,n),a)}return i}function Fo(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function Do(n,e){if(n!==e){var t=void 0!==n,r=null===n,o=n==n,i=R(n),u=void 0!==e,a=null===e,c=e==e,s=R(e);if(!a&&!s&&!i&&n>e||i&&u&&c&&!a&&!s||r&&u&&c||!t&&c||!o)return 1;if(!r&&!i&&!s&&n<e||s&&t&&o&&!r&&!i||a&&t&&o||!u&&o||!c)return-1}return 0}function Go(n,e,t){for(var r=-1,o=n.criteria,i=e.criteria,u=o.length,a=t.length;++r<u;){var c=Do(o[r],i[r]);if(c)return r>=a?c:c*("desc"==t[r]?-1:1)}return n.index-e.index}function Bo(n,e,t){e=e.length?H(e,(function(n){return _(n)?function(e){return En(e,1===n.length?n[0]:n)}:n})):[G];var r=-1;return e=H(e,kn(C)),Fo(_r(n,(function(n,t,o){return{criteria:H(e,(function(e){return e(n)})),index:++r,value:n}})),(function(n,e){return Go(n,e,t)}))}function Uo(n,e){return Ro(n,e,(function(e,t){return pr(n,t)}))}var Yo=Ut((function(n,e){return null==n?{}:Uo(n,e)}));const gn=Yo;var Ho=Math.ceil,ko=Math.max;function qo(n,e,t,r){for(var o=-1,i=ko(Ho((e-n)/(t||1)),0),u=Array(i);i--;)u[r?i:++o]=n,n+=t;return u}function Ko(n){return function(e,t,r){return r&&"number"!=typeof r&&z(e,t,r)&&(t=r=void 0),e=fn(e),void 0===t?(t=e,e=0):t=fn(t),qo(e,t,r=void 0===r?e<t?1:-1:fn(r),n)}}var Wo=Ko();const k=Wo;function Xo(n,e,t,r,o){return o(n,(function(n,o,i){t=r?(r=!1,n):e(t,n,o,i)})),t}function tn(n,e,t){var r=_(n)?Zt:Xo,o=arguments.length<3;return r(n,C(e),t,o,xn)}var Zo=mn((function(n,e){if(null==n)return[];var t=e.length;return t>1&&z(n,e[0],e[1])?e=[]:t>2&&z(e[0],e[1],e[2])&&(e=[e[0]]),Bo(n,yn(e,1),[])}));const an=Zo;var Vo=1/0,zo=Ln&&1/Vn(new Ln([,-0]))[1]==Vo?function(n){return new Ln(n)}:it;const Jo=zo;var jo=200;function Qo(n,e,t){var r=-1,o=pt,i=n.length,u=!0,a=[],c=a;if(t)u=!1,o=_o;else if(i>=jo){var s=e?null:Jo(n);if(s)return Vn(s);u=!1,o=cr,c=new J}else c=e?[]:a;n:for(;++r<i;){var f=n[r],d=e?e(f):f;if(f=t||0!==f?f:0,u&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue n;e&&c.push(d),a.push(f)}else o(c,d,t)||(c!==a&&c.push(d),a.push(f))}return a}var nu=mn((function(n){return Qo(yn(n,1,wr,!0))}));const eu=nu;var ru=0;function te(n){var e=++ru;return je(n)+e}function tu(n,e,t){for(var r=-1,o=n.length,i=e.length,u={};++r<o;){var a=r<i?e[r]:void 0;t(u,n[r],a)}return u}function iu(n,e){return tu(n||[],e||[],wn)}var au="\0",S="\0",Ne="";class A{constructor(n={}){this._isDirected=!b(n,"directed")||n.directed,this._isMultigraph=!!b(n,"multigraph")&&n.multigraph,this._isCompound=!!b(n,"compound")&&n.compound,this._label=void 0,this._defaultNodeLabelFn=Y(void 0),this._defaultEdgeLabelFn=Y(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[S]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(n){return this._label=n,this}graph(){return this._label}setDefaultNodeLabel(n){return Mn(n)||(n=Y(n)),this._defaultNodeLabelFn=n,this}nodeCount(){return this._nodeCount}nodes(){return T(this._nodes)}sources(){var n=this;return P(this.nodes(),(function(e){return se(n._in[e])}))}sinks(){var n=this;return P(this.nodes(),(function(e){return se(n._out[e])}))}setNodes(n,e){var t=arguments,r=this;return c(n,(function(n){t.length>1?r.setNode(n,e):r.setNode(n)})),this}setNode(n,e){return b(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=e),this):(this._nodes[n]=arguments.length>1?e:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]=S,this._children[n]={},this._children[S][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)}node(n){return this._nodes[n]}hasNode(n){return b(this._nodes,n)}removeNode(n){var e=this;if(b(this._nodes,n)){var t=function(n){e.removeEdge(e._edgeObjs[n])};delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],c(this.children(n),(function(n){e.setParent(n)})),delete this._children[n]),c(T(this._in[n]),t),delete this._in[n],delete this._preds[n],c(T(this._out[n]),t),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this}setParent(n,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(x(e))e=S;else{for(var t=e+="";!x(t);t=this.parent(t))if(t===n)throw new Error("Setting "+e+" as parent of "+n+" would create a cycle");this.setNode(e)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=e,this._children[e][n]=!0,this}_removeFromParentsChildList(n){delete this._children[this._parent[n]][n]}parent(n){if(this._isCompound){var e=this._parent[n];if(e!==S)return e}}children(n){if(x(n)&&(n=S),this._isCompound){var e=this._children[n];if(e)return T(e)}else{if(n===S)return this.nodes();if(this.hasNode(n))return[]}}predecessors(n){var e=this._preds[n];if(e)return T(e)}successors(n){var e=this._sucs[n];if(e)return T(e)}neighbors(n){var e=this.predecessors(n);if(e)return eu(e,this.successors(n))}isLeaf(n){return 0===(this.isDirected()?this.successors(n):this.neighbors(n)).length}filterNodes(n){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var t=this;c(this._nodes,(function(t,r){n(r)&&e.setNode(r,t)})),c(this._edgeObjs,(function(n){e.hasNode(n.v)&&e.hasNode(n.w)&&e.setEdge(n,t.edge(n))}));var r={};function o(n){var i=t.parent(n);return void 0===i||e.hasNode(i)?(r[n]=i,i):i in r?r[i]:o(i)}return this._isCompound&&c(e.nodes(),(function(n){e.setParent(n,o(n))})),e}setDefaultEdgeLabel(n){return Mn(n)||(n=Y(n)),this._defaultEdgeLabelFn=n,this}edgeCount(){return this._edgeCount}edges(){return N(this._edgeObjs)}setPath(n,e){var t=this,r=arguments;return tn(n,(function(n,o){return r.length>1?t.setEdge(n,o,e):t.setEdge(n,o),o})),this}setEdge(){var n,e,t,r,o=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(n=i.v,e=i.w,t=i.name,2===arguments.length&&(r=arguments[1],o=!0)):(n=i,e=arguments[1],t=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),n=""+n,e=""+e,x(t)||(t=""+t);var u=W(this._isDirected,n,e,t);if(b(this._edgeLabels,u))return o&&(this._edgeLabels[u]=r),this;if(!x(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(e),this._edgeLabels[u]=o?r:this._defaultEdgeLabelFn(n,e,t);var a=ou(this._isDirected,n,e,t);return n=a.v,e=a.w,Object.freeze(a),this._edgeObjs[u]=a,$e(this._preds[e],n),$e(this._sucs[n],e),this._in[e][u]=a,this._out[n][u]=a,this._edgeCount++,this}edge(n,e,t){var r=1===arguments.length?Pn(this._isDirected,arguments[0]):W(this._isDirected,n,e,t);return this._edgeLabels[r]}hasEdge(n,e,t){var r=1===arguments.length?Pn(this._isDirected,arguments[0]):W(this._isDirected,n,e,t);return b(this._edgeLabels,r)}removeEdge(n,e,t){var r=1===arguments.length?Pn(this._isDirected,arguments[0]):W(this._isDirected,n,e,t),o=this._edgeObjs[r];return o&&(n=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],Ce(this._preds[e],n),Ce(this._sucs[n],e),delete this._in[e][r],delete this._out[n][r],this._edgeCount--),this}inEdges(n,e){var t=this._in[n];if(t){var r=N(t);return e?P(r,(function(n){return n.v===e})):r}}outEdges(n,e){var t=this._out[n];if(t){var r=N(t);return e?P(r,(function(n){return n.w===e})):r}}nodeEdges(n,e){var t=this.inEdges(n,e);if(t)return t.concat(this.outEdges(n,e))}}function $e(n,e){n[e]?n[e]++:n[e]=1}function Ce(n,e){--n[e]||delete n[e]}function W(n,e,t,r){var o=""+e,i=""+t;if(!n&&o>i){var u=o;o=i,i=u}return o+Ne+i+Ne+(x(r)?au:r)}function ou(n,e,t,r){var o=""+e,i=""+t;if(!n&&o>i){var u=o;o=i,i=u}var a={v:o,w:i};return r&&(a.name=r),a}function Pn(n,e){return W(n,e.v,e.w,e.name)}A.prototype._nodeCount=0,A.prototype._edgeCount=0;class uu{constructor(){var n={};n._next=n._prev=n,this._sentinel=n}dequeue(){var n=this._sentinel,e=n._prev;if(e!==n)return Ie(e),e}enqueue(n){var e=this._sentinel;n._prev&&n._next&&Ie(n),n._next=e._next,e._next._prev=n,e._next=n,n._prev=e}toString(){for(var n=[],e=this._sentinel,t=e._prev;t!==e;)n.push(JSON.stringify(t,su)),t=t._prev;return"["+n.join(", ")+"]"}}function Ie(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function su(n,e){if("_next"!==n&&"_prev"!==n)return e}var fu=Y(1);function du(n,e){if(n.nodeCount()<=1)return[];var t=lu(n,e||fu);return q(y(cu(t.graph,t.buckets,t.zeroIdx),(function(e){return n.outEdges(e.v,e.w)})))}function cu(n,e,t){for(var r,o=[],i=e[e.length-1],u=e[0];n.nodeCount();){for(;r=u.dequeue();)Nn(n,e,t,r);for(;r=i.dequeue();)Nn(n,e,t,r);if(n.nodeCount())for(var a=e.length-2;a>0;--a)if(r=e[a].dequeue()){o=o.concat(Nn(n,e,t,r,!0));break}}return o}function Nn(n,e,t,r,o){var i=o?[]:void 0;return c(n.inEdges(r.v),(function(r){var u=n.edge(r),a=n.node(r.v);o&&i.push({v:r.v,w:r.w}),a.out-=u,Bn(e,t,a)})),c(n.outEdges(r.v),(function(r){var o=n.edge(r),i=r.w,u=n.node(i);u.in-=o,Bn(e,t,u)})),n.removeNode(r.v),i}function lu(n,e){var t=new A,r=0,o=0;c(n.nodes(),(function(n){t.setNode(n,{v:n,in:0,out:0})})),c(n.edges(),(function(n){var i=t.edge(n.v,n.w)||0,u=e(n),a=i+u;t.setEdge(n.v,n.w,a),o=Math.max(o,t.node(n.v).out+=u),r=Math.max(r,t.node(n.w).in+=u)}));var i=k(o+r+3).map((function(){return new uu})),u=r+1;return c(t.nodes(),(function(n){Bn(i,u,t.node(n))})),{graph:t,buckets:i,zeroIdx:u}}function Bn(n,e,t){t.out?t.in?n[t.out-t.in+e].enqueue(t):n[n.length-1].enqueue(t):n[0].enqueue(t)}function hu(n){var e;c("greedy"===n.graph().acyclicer?du(n,(e=n,function(n){return e.edge(n).weight})):vu(n),(function(e){var t=n.edge(e);n.removeEdge(e),t.forwardName=e.name,t.reversed=!0,n.setEdge(e.w,e.v,t,te("rev"))}))}function vu(n){var e=[],t={},r={};return c(n.nodes(),(function o(i){b(r,i)||(r[i]=!0,t[i]=!0,c(n.outEdges(i),(function(n){b(t,n.w)?e.push(n):o(n.w)})),delete t[i])})),e}function gu(n){c(n.edges(),(function(e){var t=n.edge(e);if(t.reversed){n.removeEdge(e);var r=t.forwardName;delete t.reversed,delete t.forwardName,n.setEdge(e.w,e.v,t,r)}}))}function K(n,e,t,r){var o;do{o=te(r)}while(n.hasNode(o));return t.dummy=e,n.setNode(o,t),o}function pu(n){var e=(new A).setGraph(n.graph());return c(n.nodes(),(function(t){e.setNode(t,n.node(t))})),c(n.edges(),(function(t){var r=e.edge(t.v,t.w)||{weight:0,minlen:1},o=n.edge(t);e.setEdge(t.v,t.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),e}function yr(n){var e=new A({multigraph:n.isMultigraph()}).setGraph(n.graph());return c(n.nodes(),(function(t){n.children(t).length||e.setNode(t,n.node(t))})),c(n.edges(),(function(t){e.setEdge(t,n.edge(t))})),e}function Se(n,e){var t,r,o=n.x,i=n.y,u=e.x-o,a=e.y-i,c=n.width/2,s=n.height/2;if(!u&&!a)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*c>Math.abs(u)*s?(a<0&&(s=-s),t=s*u/a,r=s):(u<0&&(c=-c),t=c,r=c*a/u),{x:o+t,y:i+r}}function On(n){var e=y(k(xr(n)+1),(function(){return[]}));return c(n.nodes(),(function(t){var r=n.node(t),o=r.rank;x(o)||(e[o][r.order]=t)})),e}function bu(n){var e=j(y(n.nodes(),(function(e){return n.node(e).rank})));c(n.nodes(),(function(t){var r=n.node(t);b(r,"rank")&&(r.rank-=e)}))}function wu(n){var e=j(y(n.nodes(),(function(e){return n.node(e).rank}))),t=[];c(n.nodes(),(function(r){var o=n.node(r).rank-e;t[o]||(t[o]=[]),t[o].push(r)}));var r=0,o=n.graph().nodeRankFactor;c(t,(function(e,t){x(e)&&t%o!=0?--r:r&&c(e,(function(e){n.node(e).rank+=r}))}))}function Me(n,e,t,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=t,o.order=r),K(n,"border",o,e)}function xr(n){return F(y(n.nodes(),(function(e){var t=n.node(e).rank;if(!x(t))return t})))}function mu(n,e){var t={lhs:[],rhs:[]};return c(n,(function(n){e(n)?t.lhs.push(n):t.rhs.push(n)})),t}function _u(n,e){var t=Pe();try{return e()}finally{console.log(n+" time: "+(Pe()-t)+"ms")}}function Eu(n,e){return e()}function yu(n){c(n.children(),(function e(t){var r=n.children(t),o=n.node(t);if(r.length&&c(r,e),b(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,u=o.maxRank+1;i<u;++i)Re(n,"borderLeft","_bl",t,o,i),Re(n,"borderRight","_br",t,o,i)}}))}function Re(n,e,t,r,o,i){var u={width:0,height:0,rank:i,borderType:e},a=o[e][i-1],c=K(n,"border",u,t);o[e][i]=c,n.setParent(c,r),a&&n.setEdge(a,c,{weight:1})}function xu(n){var e=n.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&Tr(n)}function Tu(n){var e=n.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&Ou(n),("lr"===e||"rl"===e)&&(Lu(n),Tr(n))}function Tr(n){c(n.nodes(),(function(e){Fe(n.node(e))})),c(n.edges(),(function(e){Fe(n.edge(e))}))}function Fe(n){var e=n.width;n.width=n.height,n.height=e}function Ou(n){c(n.nodes(),(function(e){$n(n.node(e))})),c(n.edges(),(function(e){var t=n.edge(e);c(t.points,$n),b(t,"y")&&$n(t)}))}function $n(n){n.y=-n.y}function Lu(n){c(n.nodes(),(function(e){Cn(n.node(e))})),c(n.edges(),(function(e){var t=n.edge(e);c(t.points,Cn),b(t,"x")&&Cn(t)}))}function Cn(n){var e=n.x;n.x=n.y,n.y=e}function Au(n){n.graph().dummyChains=[],c(n.edges(),(function(e){Pu(n,e)}))}function Pu(n,e){var t=e.v,r=n.node(t).rank,o=e.w,i=n.node(o).rank,u=e.name,a=n.edge(e),c=a.labelRank;if(i!==r+1){var s,f,d;for(n.removeEdge(e),d=0,++r;r<i;++d,++r)a.points=[],s=K(n,"edge",f={width:0,height:0,edgeLabel:a,edgeObj:e,rank:r},"_d"),r===c&&(f.width=a.width,f.height=a.height,f.dummy="edge-label",f.labelpos=a.labelpos),n.setEdge(t,s,{weight:a.weight},u),0===d&&n.graph().dummyChains.push(s),t=s;n.setEdge(t,o,{weight:a.weight},u)}}function Nu(n){c(n.graph().dummyChains,(function(e){var t,r=n.node(e),o=r.edgeLabel;for(n.setEdge(r.edgeObj,o);r.dummy;)t=n.successors(e)[0],n.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=t,r=n.node(e)}))}function ie(n){var e={};c(n.sources(),(function t(r){var o=n.node(r);if(b(e,r))return o.rank;e[r]=!0;var i=j(y(n.outEdges(r),(function(e){return t(e.w)-n.edge(e).minlen})));return(i===Number.POSITIVE_INFINITY||null==i)&&(i=0),o.rank=i}))}function Q(n,e){return n.node(e.w).rank-n.node(e.v).rank-n.edge(e).minlen}function Or(n){var e,t,r=new A({directed:!1}),o=n.nodes()[0],i=n.nodeCount();for(r.setNode(o,{});$u(r,n)<i;)e=Cu(r,n),t=r.hasNode(e.v)?Q(n,e):-Q(n,e),Iu(r,n,t);return r}function $u(n,e){return c(n.nodes(),(function t(r){c(e.nodeEdges(r),(function(o){var i=o.v,u=r===i?o.w:i;!n.hasNode(u)&&!Q(e,o)&&(n.setNode(u,{}),n.setEdge(r,u,{}),t(u))}))})),n.nodeCount()}function Cu(n,e){return re(e.edges(),(function(t){if(n.hasNode(t.v)!==n.hasNode(t.w))return Q(e,t)}))}function Iu(n,e,t){c(n.nodes(),(function(n){e.node(n).rank+=t}))}function Su(){}function Lr(n,e,t){_(e)||(e=[e]);var r=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],i={};return c(e,(function(e){if(!n.hasNode(e))throw new Error("Graph does not have node: "+e);Ar(n,e,"post"===t,i,r,o)})),o}function Ar(n,e,t,r,o,i){b(r,e)||(r[e]=!0,t||i.push(e),c(o(e),(function(e){Ar(n,e,t,r,o,i)})),t&&i.push(e))}function Mu(n,e){return Lr(n,e,"post")}function Ru(n,e){return Lr(n,e,"pre")}function U(n){ie(n=pu(n));var e,t=Or(n);for(oe(t),ae(t,n);e=$r(t);)Ir(t,n,e,Cr(t,n,e))}function ae(n,e){var t=Mu(n,n.nodes());c(t=t.slice(0,t.length-1),(function(t){Fu(n,e,t)}))}function Fu(n,e,t){var r=n.node(t).parent;n.edge(t,r).cutvalue=Pr(n,e,t)}function Pr(n,e,t){var r=n.node(t).parent,o=!0,i=e.edge(t,r),u=0;return i||(o=!1,i=e.edge(r,t)),u=i.weight,c(e.nodeEdges(t),(function(i){var a=i.v===t,c=a?i.w:i.v;if(c!==r){var s=a===o,f=e.edge(i).weight;if(u+=s?f:-f,Gu(n,t,c)){var d=n.edge(t,c).cutvalue;u+=s?-d:d}}})),u}function oe(n,e){arguments.length<2&&(e=n.nodes()[0]),Nr(n,{},1,e)}function Nr(n,e,t,r,o){var i=t,u=n.node(r);return e[r]=!0,c(n.neighbors(r),(function(o){b(e,o)||(t=Nr(n,e,t,o,r))})),u.low=i,u.lim=t++,o?u.parent=o:delete u.parent,t}function $r(n){return ne(n.edges(),(function(e){return n.edge(e).cutvalue<0}))}function Cr(n,e,t){var r=t.v,o=t.w;e.hasEdge(r,o)||(r=t.w,o=t.v);var i=n.node(r),u=n.node(o),a=i,c=!1;return i.lim>u.lim&&(a=u,c=!0),re(P(e.edges(),(function(e){return c===De(n,n.node(e.v),a)&&c!==De(n,n.node(e.w),a)})),(function(n){return Q(e,n)}))}function Ir(n,e,t,r){var o=t.v,i=t.w;n.removeEdge(o,i),n.setEdge(r.v,r.w,{}),oe(n),ae(n,e),Du(n,e)}function Du(n,e){var t=ne(n.nodes(),(function(n){return!e.node(n).parent})),r=Ru(n,t);c(r=r.slice(1),(function(t){var r=n.node(t).parent,o=e.edge(t,r),i=!1;o||(o=e.edge(r,t),i=!0),e.node(t).rank=e.node(r).rank+(i?o.minlen:-o.minlen)}))}function Gu(n,e,t){return n.hasEdge(e,t)}function De(n,e,t){return t.low<=e.lim&&e.lim<=t.lim}function Bu(n){switch(n.graph().ranker){case"network-simplex":default:Ge(n);break;case"tight-tree":Yu(n);break;case"longest-path":Uu(n)}}Su.prototype=new Error,U.initLowLimValues=oe,U.initCutValues=ae,U.calcCutValue=Pr,U.leaveEdge=$r,U.enterEdge=Cr,U.exchangeEdges=Ir;var Uu=ie;function Yu(n){ie(n),Or(n)}function Ge(n){U(n)}function Hu(n){var e=K(n,"root",{},"_root"),t=ku(n),r=F(N(t))-1,o=2*r+1;n.graph().nestingRoot=e,c(n.edges(),(function(e){n.edge(e).minlen*=o}));var i=qu(n)+1;c(n.children(),(function(u){Sr(n,e,o,i,r,t,u)})),n.graph().nodeRankFactor=o}function Sr(n,e,t,r,o,i,u){var a=n.children(u);if(a.length){var s=Me(n,"_bt"),f=Me(n,"_bb"),d=n.node(u);n.setParent(s,u),d.borderTop=s,n.setParent(f,u),d.borderBottom=f,c(a,(function(a){Sr(n,e,t,r,o,i,a);var c=n.node(a),d=c.borderTop?c.borderTop:a,h=c.borderBottom?c.borderBottom:a,v=c.borderTop?r:2*r,l=d!==h?1:o-i[u]+1;n.setEdge(s,d,{weight:v,minlen:l,nestingEdge:!0}),n.setEdge(h,f,{weight:v,minlen:l,nestingEdge:!0})})),n.parent(u)||n.setEdge(e,s,{weight:0,minlen:o+i[u]})}else u!==e&&n.setEdge(e,u,{weight:0,minlen:t})}function ku(n){var e={};function t(r,o){var i=n.children(r);i&&i.length&&c(i,(function(n){t(n,o+1)})),e[r]=o}return c(n.children(),(function(n){t(n,1)})),e}function qu(n){return tn(n.edges(),(function(e,t){return e+n.edge(t).weight}),0)}function Ku(n){var e=n.graph();n.removeNode(e.nestingRoot),delete e.nestingRoot,c(n.edges(),(function(e){n.edge(e).nestingEdge&&n.removeEdge(e)}))}function Wu(n,e,t){var r,o={};c(t,(function(t){for(var i,u,a=n.parent(t);a;){if((i=n.parent(a))?(u=o[i],o[i]=a):(u=r,r=a),u&&u!==a)return void e.setEdge(u,a);a=i}}))}function Xu(n,e,t){var r=Zu(n),o=new A({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(e){return n.node(e)}));return c(n.nodes(),(function(i){var u=n.node(i),a=n.parent(i);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(o.setNode(i),o.setParent(i,a||r),c(n[t](i),(function(e){var t=e.v===i?e.w:e.v,r=o.edge(t,i),u=x(r)?0:r.weight;o.setEdge(t,i,{weight:n.edge(e).weight+u})})),b(u,"minRank")&&o.setNode(i,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))})),o}function Zu(n){for(var e;n.hasNode(e=te("_root")););return e}function Vu(n,e){for(var t=0,r=1;r<e.length;++r)t+=zu(n,e[r-1],e[r]);return t}function zu(n,e,t){for(var r=iu(t,y(t,(function(n,e){return e}))),o=q(y(e,(function(e){return an(y(n.outEdges(e),(function(e){return{pos:r[e.w],weight:n.edge(e).weight}})),"pos")}))),i=1;i<t.length;)i<<=1;var u=2*i-1;i-=1;var a=y(new Array(u),(function(){return 0})),s=0;return c(o.forEach((function(n){var e=n.pos+i;a[e]+=n.weight;for(var t=0;e>0;)e%2&&(t+=a[e+1]),a[e=e-1>>1]+=n.weight;s+=n.weight*t}))),s}function Ju(n){var e={},t=P(n.nodes(),(function(e){return!n.children(e).length})),r=F(y(t,(function(e){return n.node(e).rank}))),o=y(k(r+1),(function(){return[]}));return c(an(t,(function(e){return n.node(e).rank})),(function t(r){if(!b(e,r)){e[r]=!0;var i=n.node(r);o[i.rank].push(r),c(n.successors(r),t)}})),o}function ju(n,e){return y(e,(function(e){var t=n.inEdges(e);if(t.length){var r=tn(t,(function(e,t){var r=n.edge(t),o=n.node(t.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}}))}function Qu(n,e){var t={};return c(n,(function(n,e){var r=t[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:e};x(n.barycenter)||(r.barycenter=n.barycenter,r.weight=n.weight)})),c(e.edges(),(function(n){var e=t[n.v],r=t[n.w];!x(e)&&!x(r)&&(r.indegree++,e.out.push(t[n.w]))})),ns(P(t,(function(n){return!n.indegree})))}function ns(n){var e=[];function t(n){return function(e){e.merged||(x(e.barycenter)||x(n.barycenter)||e.barycenter>=n.barycenter)&&es(n,e)}}function r(e){return function(t){t.in.push(e),0==--t.indegree&&n.push(t)}}for(;n.length;){var o=n.pop();e.push(o),c(o.in.reverse(),t(o)),c(o.out,r(o))}return y(P(e,(function(n){return!n.merged})),(function(n){return gn(n,["vs","i","barycenter","weight"])}))}function es(n,e){var t=0,r=0;n.weight&&(t+=n.barycenter*n.weight,r+=n.weight),e.weight&&(t+=e.barycenter*e.weight,r+=e.weight),n.vs=e.vs.concat(n.vs),n.barycenter=t/r,n.weight=r,n.i=Math.min(e.i,n.i),e.merged=!0}function rs(n,e){var t=mu(n,(function(n){return b(n,"barycenter")})),r=t.lhs,o=an(t.rhs,(function(n){return-n.i})),i=[],u=0,a=0,s=0;r.sort(ts(!!e)),s=Be(i,o,s),c(r,(function(n){s+=n.vs.length,i.push(n.vs),u+=n.barycenter*n.weight,a+=n.weight,s=Be(i,o,s)}));var f={vs:q(i)};return a&&(f.barycenter=u/a,f.weight=a),f}function Be(n,e,t){for(var r;e.length&&(r=vn(e)).i<=t;)e.pop(),n.push(r.vs),t++;return t}function ts(n){return function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i}}function Mr(n,e,t,r){var o=n.children(e),i=n.node(e),u=i?i.borderLeft:void 0,a=i?i.borderRight:void 0,s={};u&&(o=P(o,(function(n){return n!==u&&n!==a})));var f=ju(n,o);c(f,(function(e){if(n.children(e.v).length){var o=Mr(n,e.v,t,r);s[e.v]=o,b(o,"barycenter")&&as(e,o)}}));var d=Qu(f,t);is(d,s);var h=rs(d,r);if(u&&(h.vs=q([u,h.vs,a]),n.predecessors(u).length)){var v=n.node(n.predecessors(u)[0]),l=n.node(n.predecessors(a)[0]);b(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+v.order+l.order)/(h.weight+2),h.weight+=2}return h}function is(n,e){c(n,(function(n){n.vs=q(n.vs.map((function(n){return e[n]?e[n].vs:n})))}))}function as(n,e){x(n.barycenter)?(n.barycenter=e.barycenter,n.weight=e.weight):(n.barycenter=(n.barycenter*n.weight+e.barycenter*e.weight)/(n.weight+e.weight),n.weight+=e.weight)}function os(n){var e=xr(n),t=Ue(n,k(1,e+1),"inEdges"),r=Ue(n,k(e-1,-1,-1),"outEdges"),o=Ju(n);Ye(n,o);for(var i,u=Number.POSITIVE_INFINITY,a=0,c=0;c<4;++a,++c){us(a%2?t:r,a%4>=2);var s=Vu(n,o=On(n));s<u&&(c=0,i=ya(o),u=s)}Ye(n,i)}function Ue(n,e,t){return y(e,(function(e){return Xu(n,e,t)}))}function us(n,e){var t=new A;c(n,(function(n){var r=n.graph().root,o=Mr(n,r,t,e);c(o.vs,(function(e,t){n.node(e).order=t})),Wu(n,t,o.vs)}))}function Ye(n,e){c(e,(function(e){c(e,(function(e,t){n.node(e).order=t}))}))}function ss(n){var e=ds(n);c(n.graph().dummyChains,(function(t){for(var r=n.node(t),o=r.edgeObj,i=fs(n,e,o.v,o.w),u=i.path,a=i.lca,c=0,s=u[c],f=!0;t!==o.w;){if(r=n.node(t),f){for(;(s=u[c])!==a&&n.node(s).maxRank<r.rank;)c++;s===a&&(f=!1)}if(!f){for(;c<u.length-1&&n.node(s=u[c+1]).minRank<=r.rank;)c++;s=u[c]}n.setParent(t,s),t=n.successors(t)[0]}}))}function fs(n,e,t,r){var o,i,u=[],a=[],c=Math.min(e[t].low,e[r].low),s=Math.max(e[t].lim,e[r].lim);o=t;do{o=n.parent(o),u.push(o)}while(o&&(e[o].low>c||s>e[o].lim));for(i=o,o=r;(o=n.parent(o))!==i;)a.push(o);return{path:u.concat(a.reverse()),lca:i}}function ds(n){var e={},t=0;return c(n.children(),(function r(o){var i=t;c(n.children(o),r),e[o]={low:i,lim:t++}})),e}function cs(n,e){var t={};return tn(e,(function(e,r){var o=0,i=0,u=e.length,a=vn(r);return c(r,(function(e,s){var f=hs(n,e),d=f?n.node(f).order:u;(f||e===a)&&(c(r.slice(i,s+1),(function(e){c(n.predecessors(e),(function(r){var i=n.node(r),u=i.order;(u<o||d<u)&&(!i.dummy||!n.node(e).dummy)&&Rr(t,r,e)}))})),i=s+1,o=d)})),r})),t}function ls(n,e){var t={};function r(e,r,o,i,u){var a;c(k(r,o),(function(r){a=e[r],n.node(a).dummy&&c(n.predecessors(a),(function(e){var r=n.node(e);r.dummy&&(r.order<i||r.order>u)&&Rr(t,e,a)}))}))}return tn(e,(function(e,t){var o,i=-1,u=0;return c(t,(function(a,c){if("border"===n.node(a).dummy){var s=n.predecessors(a);s.length&&(o=n.node(s[0]).order,r(t,u,c,i,o),u=c,i=o)}r(t,u,t.length,o,e.length)})),t})),t}function hs(n,e){if(n.node(e).dummy)return ne(n.predecessors(e),(function(e){return n.node(e).dummy}))}function Rr(n,e,t){if(e>t){var r=e;e=t,t=r}var o=n[e];o||(n[e]=o={}),o[t]=!0}function vs(n,e,t){if(e>t){var r=e;e=t,t=r}return b(n[e],t)}function gs(n,e,t,r){var o={},i={},u={};return c(e,(function(n){c(n,(function(n,e){o[n]=n,i[n]=n,u[n]=e}))})),c(e,(function(n){var e=-1;c(n,(function(n){var a=r(n);if(a.length)for(var c=((a=an(a,(function(n){return u[n]}))).length-1)/2,s=Math.floor(c),f=Math.ceil(c);s<=f;++s){var d=a[s];i[n]===n&&e<u[d]&&!vs(t,n,d)&&(i[d]=n,i[n]=o[n]=o[d],e=u[d])}}))})),{root:o,align:i}}function ps(n,e,t,r,o){var i={},u=bs(n,e,t,o),a=o?"borderLeft":"borderRight";function s(n,e){for(var t=u.nodes(),r=t.pop(),o={};r;)o[r]?n(r):(o[r]=!0,t.push(r),t=t.concat(e(r))),r=t.pop()}return s((function(n){i[n]=u.inEdges(n).reduce((function(n,e){return Math.max(n,i[e.v]+u.edge(e))}),0)}),u.predecessors.bind(u)),s((function(e){var t=u.outEdges(e).reduce((function(n,e){return Math.min(n,i[e.w]-u.edge(e))}),Number.POSITIVE_INFINITY),r=n.node(e);t!==Number.POSITIVE_INFINITY&&r.borderType!==a&&(i[e]=Math.max(i[e],t))}),u.successors.bind(u)),c(r,(function(n){i[n]=i[t[n]]})),i}function bs(n,e,t,r){var o=new A,i=n.graph(),u=ys(i.nodesep,i.edgesep,r);return c(e,(function(e){var r;c(e,(function(e){var i=t[e];if(o.setNode(i),r){var a=t[r],c=o.edge(a,i);o.setEdge(a,i,Math.max(u(n,e,r),c||0))}r=e}))})),o}function ws(n,e){return re(N(e),(function(e){var t=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Lo(e,(function(e,o){var i=xs(n,o)/2;t=Math.max(e+i,t),r=Math.min(e-i,r)})),t-r}))}function ms(n,e){var t=N(e),r=j(t),o=F(t);c(["u","d"],(function(t){c(["l","r"],(function(i){var u,a=t+i,c=n[a];if(c!==e){var s=N(c);(u="l"===i?r-j(s):o-F(s))&&(n[a]=Tn(c,(function(n){return n+u})))}}))}))}function _s(n,e){return Tn(n.ul,(function(t,r){if(e)return n[e.toLowerCase()][r];var o=an(y(n,r));return(o[1]+o[2])/2}))}function Es(n){var e,t=On(n),r=Gn(cs(n,t),ls(n,t)),o={};c(["u","d"],(function(i){e="u"===i?t:N(t).reverse(),c(["l","r"],(function(t){"r"===t&&(e=y(e,(function(n){return N(n).reverse()})));var u=("u"===i?n.predecessors:n.successors).bind(n),a=gs(n,e,r,u),c=ps(n,e,a.root,a.align,"r"===t);"r"===t&&(c=Tn(c,(function(n){return-n}))),o[i+t]=c}))}));var i=ws(n,o);return ms(o,i),_s(o,n.graph().align)}function ys(n,e,t){return function(r,o,i){var u,a=r.node(o),c=r.node(i),s=0;if(s+=a.width/2,b(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2}if(u&&(s+=t?u:-u),u=0,s+=(a.dummy?e:n)/2,s+=(c.dummy?e:n)/2,s+=c.width/2,b(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=c.width/2;break;case"r":u=-c.width/2}return u&&(s+=t?u:-u),u=0,s}}function xs(n,e){return n.node(e).width}function Ts(n){Os(n=yr(n)),Ao(Es(n),(function(e,t){n.node(t).x=e}))}function Os(n){var e=On(n),t=n.graph().ranksep,r=0;c(e,(function(e){var o=F(y(e,(function(e){return n.node(e).height})));c(e,(function(e){n.node(e).y=r+o/2})),r+=o+t}))}function zs(n,e){var t=e&&e.debugTiming?_u:Eu;t("layout",(function(){var e=t("  buildLayoutGraph",(function(){return Fs(n)}));t("  runLayout",(function(){Ls(e,t)})),t("  updateInputGraph",(function(){As(n,e)}))}))}function Ls(n,e){e("    makeSpaceForEdgeLabels",(function(){Ds(n)})),e("    removeSelfEdges",(function(){Ws(n)})),e("    acyclic",(function(){hu(n)})),e("    nestingGraph.run",(function(){Hu(n)})),e("    rank",(function(){Bu(yr(n))})),e("    injectEdgeLabelProxies",(function(){Gs(n)})),e("    removeEmptyRanks",(function(){wu(n)})),e("    nestingGraph.cleanup",(function(){Ku(n)})),e("    normalizeRanks",(function(){bu(n)})),e("    assignRankMinMax",(function(){Bs(n)})),e("    removeEdgeLabelProxies",(function(){Us(n)})),e("    normalize.run",(function(){Au(n)})),e("    parentDummyChains",(function(){ss(n)})),e("    addBorderSegments",(function(){yu(n)})),e("    order",(function(){os(n)})),e("    insertSelfEdges",(function(){Xs(n)})),e("    adjustCoordinateSystem",(function(){xu(n)})),e("    position",(function(){Ts(n)})),e("    positionSelfEdges",(function(){Zs(n)})),e("    removeBorderNodes",(function(){Ks(n)})),e("    normalize.undo",(function(){Nu(n)})),e("    fixupEdgeLabelCoords",(function(){ks(n)})),e("    undoCoordinateSystem",(function(){Tu(n)})),e("    translateGraph",(function(){Ys(n)})),e("    assignNodeIntersects",(function(){Hs(n)})),e("    reversePoints",(function(){qs(n)})),e("    acyclic.undo",(function(){gu(n)}))}function As(n,e){c(n.nodes(),(function(t){var r=n.node(t),o=e.node(t);r&&(r.x=o.x,r.y=o.y,e.children(t).length&&(r.width=o.width,r.height=o.height))})),c(n.edges(),(function(t){var r=n.edge(t),o=e.edge(t);r.points=o.points,b(o,"x")&&(r.x=o.x,r.y=o.y)})),n.graph().width=e.graph().width,n.graph().height=e.graph().height}var Ps=["nodesep","edgesep","ranksep","marginx","marginy"],Ns={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},$s=["acyclicer","ranker","rankdir","align"],Cs=["width","height"],Is={width:0,height:0},Ss=["minlen","weight","width","height","labeloffset"],Ms={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Rs=["labelpos"];function Fs(n){var e=new A({multigraph:!0,compound:!0}),t=Sn(n.graph());return e.setGraph(Gn({},Ns,In(t,Ps),gn(t,$s))),c(n.nodes(),(function(t){var r=Sn(n.node(t));e.setNode(t,bo(In(r,Cs),Is)),e.setParent(t,n.parent(t))})),c(n.edges(),(function(t){var r=Sn(n.edge(t));e.setEdge(t,Gn({},Ms,In(r,Ss),gn(r,Rs)))})),e}function Ds(n){var e=n.graph();e.ranksep/=2,c(n.edges(),(function(t){var r=n.edge(t);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}function Gs(n){c(n.edges(),(function(e){var t=n.edge(e);if(t.width&&t.height){var r=n.node(e.v),o={rank:(n.node(e.w).rank-r.rank)/2+r.rank,e};K(n,"edge-proxy",o,"_ep")}}))}function Bs(n){var e=0;c(n.nodes(),(function(t){var r=n.node(t);r.borderTop&&(r.minRank=n.node(r.borderTop).rank,r.maxRank=n.node(r.borderBottom).rank,e=F(e,r.maxRank))})),n.graph().maxRank=e}function Us(n){c(n.nodes(),(function(e){var t=n.node(e);"edge-proxy"===t.dummy&&(n.edge(t.e).labelRank=t.rank,n.removeNode(e))}))}function Ys(n){var e=Number.POSITIVE_INFINITY,t=0,r=Number.POSITIVE_INFINITY,o=0,i=n.graph(),u=i.marginx||0,a=i.marginy||0;function s(n){var i=n.x,u=n.y,a=n.width,c=n.height;e=Math.min(e,i-a/2),t=Math.max(t,i+a/2),r=Math.min(r,u-c/2),o=Math.max(o,u+c/2)}c(n.nodes(),(function(e){s(n.node(e))})),c(n.edges(),(function(e){var t=n.edge(e);b(t,"x")&&s(t)})),e-=u,r-=a,c(n.nodes(),(function(t){var o=n.node(t);o.x-=e,o.y-=r})),c(n.edges(),(function(t){var o=n.edge(t);c(o.points,(function(n){n.x-=e,n.y-=r})),b(o,"x")&&(o.x-=e),b(o,"y")&&(o.y-=r)})),i.width=t-e+u,i.height=o-r+a}function Hs(n){c(n.edges(),(function(e){var t,r,o=n.edge(e),i=n.node(e.v),u=n.node(e.w);o.points?(t=o.points[0],r=o.points[o.points.length-1]):(o.points=[],t=u,r=i),o.points.unshift(Se(i,t)),o.points.push(Se(u,r))}))}function ks(n){c(n.edges(),(function(e){var t=n.edge(e);if(b(t,"x"))switch(("l"===t.labelpos||"r"===t.labelpos)&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}}))}function qs(n){c(n.edges(),(function(e){var t=n.edge(e);t.reversed&&t.points.reverse()}))}function Ks(n){c(n.nodes(),(function(e){if(n.children(e).length){var t=n.node(e),r=n.node(t.borderTop),o=n.node(t.borderBottom),i=n.node(vn(t.borderLeft)),u=n.node(vn(t.borderRight));t.width=Math.abs(u.x-i.x),t.height=Math.abs(o.y-r.y),t.x=i.x+t.width/2,t.y=r.y+t.height/2}})),c(n.nodes(),(function(e){"border"===n.node(e).dummy&&n.removeNode(e)}))}function Ws(n){c(n.edges(),(function(e){if(e.v===e.w){var t=n.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e,label:n.edge(e)}),n.removeEdge(e)}}))}function Xs(n){c(On(n),(function(e){var t=0;c(e,(function(e,r){var o=n.node(e);o.order=r+t,c(o.selfEdges,(function(e){K(n,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:r+ ++t,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))}function Zs(n){c(n.nodes(),(function(e){var t=n.node(e);if("selfedge"===t.dummy){var r=n.node(t.e.v),o=r.x+r.width/2,i=r.y,u=t.x-o,a=r.height/2;n.setEdge(t.e,t.label),n.removeNode(e),t.label.points=[{x:o+2*u/3,y:i-a},{x:o+5*u/6,y:i-a},{x:o+u,y:i},{x:o+5*u/6,y:i+a},{x:o+2*u/3,y:i+a}],t.label.x=t.x,t.label.y=t.y}}))}function In(n,e){return Tn(gn(n,e),Number)}function Sn(n){var e={};return c(n,(function(n,t){e[t.toLowerCase()]=n})),e}export{A as G,x as a,dn as b,bo as d,c as f,b as h,Xt as i,zs as l,y as m,gn as p,k as r,te as u};